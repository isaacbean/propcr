<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color=buttonSelected>
<meta name="apple-mobile-web-app-title" id="appleTitle" content="proPCR">
<meta name="application-name" id="appTitle" content="proPCR">
<meta name="msapplication-TileColor" content=buttonSelected>
<meta name="theme-color" content="#ffffff">
  <title>proPCR</title>
  <style>
    @font-face {
      font-family: muli;
      src: url(muli-regular.ttf) format('truetype');
      font-weight: 400;
    }

    @font-face {
      font-family: muli;
      src: url(muli-bold.ttf) format('truetype');
      font-weight: 700;
    }

    body,
    input,
    label,
    select,
    textarea {
      margin: 0;
      background: 0;
      color: inherit;
      font-family: 'muli', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      font-weight: 400;
    }


    input[type='button'],
    input[type='submit'] {
      display: block;
      width: 200px;
      margin: auto;
      margin-top: 15px;
      margin-bottom: 30px;
      padding: 7px;
      border: 1px solid black;
      /* border-radius: 4px; */
      /* background-color: transparent; */
      outline: 0;
      text-transform: uppercase;
      font-size: 20px;
      text-decoration: none;
      -webkit-appearance: none;
      cursor: pointer
    }

    input[type='button'].button16 {
      font-size: 16px;
    }

    #regularRampButton, #regularHeatButton{
      margin-top: 50px;
    }

    /* input[type='button']:hover,
    input[type='submit']:hover {
      color: white;
      background-color: #111 !important;
      border: 1px solid #111;
    } */

    input[type='button']:active,
    input[type='submit']:active {
      color: #111;
      background-color: ##ff9d2e;
      border: 1px solid #111;
    }

    .logo {
      position: absolute;
      margin: auto;
      left: 0;
      right: 0;
      display: block;
      width: 200px;
      height: 38px;
      margin: auto;
      padding-top: 15px;
      padding-bottom: 35px;
      cursor: pointer;
      z-index: 5;
    }

    .navbar {
      z-index: 1;
      position: fixed;
      top: 0;
      width: 100%;
      height: 80px;
      background-color: inherit;
    }

    .sidenav {
      z-index: 3;
      position: fixed;
      top: 0;
      right: 0;
      width: 0%;
      height: 100%;
      padding-top: 110px;
      overflow-x: hidden;
      background-color: #111;
      text-align: center;
      text-transform: uppercase;
    }

    .sidenav a {
      display: block;
      margin-top: 35px;
      padding: 8px;
      color: #818181;
      text-decoration: none;
      font-size: 25px;
      transition: .3s;
      cursor: pointer;
    }

    .sidenav a:hover {
      color: #f1f1f1
    }

    .sidenav span:hover {
      color: #f1f1f1
    }

    .closebtn {
      position: absolute;
      top: 10px;
      right: 0;
      padding: 0;
      width: 60px;
      font-size: 40px;
      color: #818181;
      text-decoration: none;
      cursor: pointer;
    }

    .openbtn {
      z-index: 2;
      position: fixed;
      top: 24px;
      right: 3%;

      border: none;
      font-size: 25px;
      cursor: pointer;
      display: none;
      line-height: 80%;
    }

    #connectview {
        z-index: 7;
        position: absolute;
        top: 60px;
        margin: auto;
        left: 0;
        right: 0;
        text-align: center;
        font-size: 14px;
        color: green;
    }

    #connectdot {
      height: 10px;
      width: 10px;
      background-color: green;
      border-radius: 50%;
      display: inline-block;
    }

    #ipaddress {
      text-decoration: underline;
      cursor: pointer;
      color: inherit;
    }

    #ipaddresstext {
      z-index: -10;
      top: -100px;
      position: absolute;
    }

    #copyaddress {
      border: 1px solid;
      padding: 1px;
      cursor: pointer;
      font-size: 11px;
    }

    .menubtn {
      position: relative;
      padding: 5px;
      top: -3px;
      display: none;
      font-size: 15px;
    }

    .container {
      width: 100%;
      margin: auto;
      margin-top: 100px;
      margin-bottom: 50px;

    }

    .inputNum {
      display: block;
      width: 95%;
      margin: auto;
      padding-top: 5px;
      margin-bottom: 25px;
    }

    .inputNum p {
      margin-top: 1px;
      margin-bottom: 0px;
    }

    .modal {
  display: none;
  position: fixed;
  z-index: 1;
  padding-top: 100px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgb(0,0,0);
  background-color: rgba(0,0,0,0.8);
}

.modal-content {
  text-align: center;
  margin: auto;
  width: 80%;
}

.closeModal {
  padding-top: 2px;
  padding-right: 10px;
  float: right;
  font-size: 28px;
  font-weight: bold;
  text-decoration: none;
  cursor: pointer;
}
#runbutton,
#pauseButton,#savebutton,
#stopButton  {
  width: 40%;

}

input.loadbutton {
    width: 100px;
}

    @media(min-width:710px) {

      .container, .modal-content {
        width: 600px;
      }
      .navbar{
        width: 600px;
        margin: auto;
        left: 0;
        right: 0;

      }
      .openbtn {
        position: absolute;
        right: 0;
      }

      

      .spanbox {
        position: absolute;
        width: 600px;
        margin: auto;
        left: 0;
        right: 0;
        top: 0;
      }

      #runbutton,
      #pauseButton, #savebutton,
      #stopButton {
        width: 30%;
      }

      .menubtn {
        display: inline-block;
      }
      .inputNum {
        width: 65%;
      }
    }
/* End media query */

  #progstate, #progname {
    text-align: center;
  }

  .loadprogname {
    text-align: center;
    margin-bottom: 5px;
  }

  .progtitle{
    text-transform: uppercase;
    text-align: center;
    margin: 5px;
  }


  #progtitle {
    text-align: center;
    text-transform: uppercase;
    font-weight: 700;
    margin: 5px;
  }

    #programdiv {
      border: solid 1px;
    }

    #preheatLidset, #preheatBlockset {
      padding-left: 40px;
    }

    #programdiv h3{
      text-align: center;
      margin-top: 50px;
    }

    #programdiv h2{
      text-align: center;
      margin-top: 40px;
    }

    #preheat {
      margin-top: 40px;
      margin-bottom: 30px;
    }



    .help{
      background-color: #e4e4e4;
      /* border-left: 3px solid #2e90ff; */
      padding: 5px;
      margin-bottom: 10px;
    }



    body {
      -ms-overflow-style: none; // IE 10+
      overflow: -moz-scrollbars-none; // Firefox
    }

    body::-webkit-scrollbar {
      display: none; // Safari and Chrome
    }

    .buttondiv {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }

    .tab {
      border: none;
      outline: none;
      float: left;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      width: 33.33%;
      height: 90px;
      text-align: center;

    }

    .tabspan {
      font-size: 24px;
      display: inline-block;
      vertical-align: middle;
      line-height: normal;
      font-family: "muli";
      font-weight: 700;
    }


    #programpcr{
      display: none;
      padding-top: 100px;
    }

    #programramp{
      display: none;
      padding-top: 100px;
    }

    #programheat{
      padding-top: 100px;
      display: none;
    }



    /* @media(min-width:710px) {
      .container {
        width: 50%;
      }
      .openbtn {
        right: 30%;
      }

      .sidenav .closebtn {
        right: 30%;
      }
      .menubtn {
        display: inline-block;
      }
      .inputNum {
        width: 65%;
      }
    } */



    #loaddiv, #settingsdiv, #viewdiv{
      display: none;
      padding-top: 5px;
    }

    #loaddiv h1{
      text-align: center;
    }

    .setting > * {
      display: inline;
      font-size: 20px;
      line-height: 2;
    }

    #progselect>* {
      text-align: center;
    }

    #progselect h4 {
      cursor: pointer;
    }

    .stat {
      float: right;
      padding-right: 15px;
      font-weight: 700;
    }

    .setting {
      border-top: 2px solid #818181;
      cursor: pointer;
      padding-left: 5px;
      padding-top: 10px;
      padding-bottom: 10px;
    }

    .info {
      background-color: #e4e4e4;
      /* border-left: 3px solid #2e90ff; */
      padding: 5px;
      margin-bottom: 10px;
      width: 90%;
      margin: auto;
    }


    .autostartprog{
      text-align: center;
    }

    #autostartprog{
      border: 1px dotted black;
      text-align: center;
      display: inline-block;
      margin-top: 15px;
      padding: 10px;
    }

    #autostartalert{
      text-align: center;
    }

    .alertmsg{
      width: 90%;
      padding: 10px;
      margin: auto;
      text-align: center;
    }

    #connectnetworkmsg{
      width: 90%;
      padding: 10px;
      margin: auto;
      text-align: center;
    }

    #connectnetwork{
      text-align: center;
    }


    #autostartbutton, #aponbutton, #helpbutton, #themebutton, #connectwifibutton, #userpswbutton, #updatewifibutton, #quietfanbutton{
      font-size: 15px;
      width: auto;

    }

    #displaydiv {
      margin: auto;
      text-align: center;
      display: none;
    }
    #progname{
      margin-bottom: 5px;
    }
    #programtitle{
      text-transform: uppercase;
      margin: 5px;
    }

    #cyclediv h3, #timerdiv h3 {
      display: inline-block;
      margin-top: 5px;
      margin-bottom: 0px;
    }

    #cycleState{
      margin-bottom: 0px;
      margin-top: 30px;
    }

    #savealert {
      text-align: center;
      margin: 0;
    }

    #displaydiv1{
      margin-top: 30px;
    }

    #tempdiv {
      margin-top: 30px;
    }
    
    #gradienttemp {
      margin-top: 30px;
      display: none;
    }

    #tempdiv h3,
    #gradienttemp h3 {
      display: inline-block;
      margin-bottom: 0px;
      margin-top: 5px;
    }

    .showtemp {
      float: right;
    }

    .statustemp {
      width: 220px;
      margin: auto;
    }

    .pretext {
      display: block;
      width: 200px;
      margin: auto;
      margin-top: 10px;
      margin-bottom: 10px;
      border-style: hidden;
      /* border-radius: 4px; */
      text-align: center
    }

    .pretext>a {
      line-height: 2.5;
    }

    .displaytemp {
      display: block;
      width: 95%;
      margin: auto;
      text-align: center
    }



    .has-float-label {
      display: block;
      position: relative
    }

    .has-float-label>span,
    .has-float-label label {
      position: absolute;
      top: 0;
      left: 0;
      opacity: 1;
      font-size: 100%;
      -webkit-transition: all .2s;
      transition: all .2s;
      cursor: text
    }

    .has-float-label select {
      -moz-appearance: none;
      -webkit-appearance: none;
      appearance: none
    }

    .has-float-label input,
    .has-float-label select {
      width: 100%;
      margin-bottom: 2px;
      padding-top: 1em;
      border: 0;
      border-bottom: 2px solid #818181;
      border-radius: 0;
      font-size: 160%;
      font-weight: 700;
      text-align: center;
    }

    .has-float-label input::-webkit-input-placeholder,
    .has-float-label select::-webkit-input-placeholder {
      opacity: .5;
      -webkit-transition: all .2s;
      transition: all .2s
    }

    .has-float-label input:-ms-input-placeholder,
    .has-float-label select:-ms-input-placeholder {
      opacity: .5;
      -webkit-transition: all .2s;
      transition: all .2s
    }

    .has-float-label input::-ms-input-placeholder,
    .has-float-label select::-ms-input-placeholder {
      opacity: .5;
      -webkit-transition: all .2s;
      transition: all .2s
    }

    .has-float-label input::placeholder,
    .has-float-label select::placeholder {
      opacity: .5;
      -webkit-transition: all .2s;
      transition: all .2s
    }

    .has-float-label input:placeholder-shown:not(:focus)::-webkit-input-placeholder,
    .has-float-label select:placeholder-shown:not(:focus)::-webkit-input-placeholder {
      opacity: 0
    }

    .has-float-label input:placeholder-shown:not(:focus):-ms-input-placeholder,
    .has-float-label select:placeholder-shown:not(:focus):-ms-input-placeholder {
      opacity: 0
    }

    .has-float-label input:placeholder-shown:not(:focus)::-ms-input-placeholder,
    .has-float-label select:placeholder-shown:not(:focus)::-ms-input-placeholder {
      opacity: 0
    }

    .has-float-label input:placeholder-shown:not(:focus)::placeholder,
    .has-float-label select:placeholder-shown:not(:focus)::placeholder {
      opacity: 0
    }

    .has-float-label input:placeholder-shown:not(:focus)+*,
    .has-float-label select:placeholder-shown:not(:focus)+* {
      top: 20px;
      opacity: .5;
      font-size: 150%
    }

    .has-float-label input:focus,
    .has-float-label select:focus {

      outline: 0
    }

  </style>
  <script>
    var pcrRunning = false;
    var connected = false;
    var programType = "";
    var programTab = "";
    var programButton = "";
    var alertColor = "#ff9d2e";
    var buttonSelected = "#ff9d2e";
    var buttonDeselected = "white";
    var borderThin = "1px solid black";
    var borderThick = "3px solid black";
    var themeColor = "light";
    var firstload = false;

    function ge(s) {
      return document.getElementById(s);
    }

    function ce(s) {
      return document.createElement(s);
    }

    function displayNone(s) {
      return document.getElementById(s).style.display = "none";
    }

    function displayBlock(s) {
      return document.getElementById(s).style.display = "block";
    }

    function turnOrange(s) {
      return document.getElementById(s).style.backgroundColor = buttonSelected;
    }

    function isOrange(s) {
      document.getElementById(s).style.backgroundColor == buttonSelected;
    }

    function turnWhite(s) {
      return document.getElementById(s).style.backgroundColor = buttonDeselected;
    }

    function valueString(s){
      return document.getElementById(s).value.toString();
    }

    function openNav() {
      ge('mySidenav').style.width = '100%';
      ge("logo").style.filter = "invert(50%)";
    }

    function closeNav() {
      if (themeColor === "dark") {
        ge("logo").style.filter = "invert(50%)";
      }
      if (themeColor === "light") {
        ge("logo").style.filter = "invert(0%)";
      }
      ge('mySidenav').style.width = '0';
    }

    function pushProgram(){
      history.pushState("program",null,null);
    }

    function pushLoad(){
      history.pushState("load",null,null);
    }

    function pushSettings(){
      history.pushState("settings",null,null);
    }

    function pushView(){
      history.pushState("view",null,null);
    }

    window.addEventListener('popstate', function(e){
        if (e.state == "program") {
          showProgram();
        }
        if (e.state == "load") {
          showLoad();
        }
        if (e.state == "settings") {
          showSettings();
        }
        if (e.state == "view") {
          showView();
        }
      });

    function showProgram() {
      // ge("menudiv").style.display = "none";
      ge("openbtn").style.display = "block";
      ge("programdiv").style.display = "block";
      ge("loaddiv").style.display = "none";
      ge("settingsdiv").style.display = "none";
      ge("viewdiv").style.display = "none";
      closeNav();
    }

    function showLoad() {
      loadData();
      // ge("menudiv").style.display = "none";
      ge("openbtn").style.display = "block";
      ge("programdiv").style.display = "none";
      ge("loaddiv").style.display = "block";
      ge("settingsdiv").style.display = "none";
      ge("viewdiv").style.display = "none";
      closeNav();
    }

    function showSettings() {
      loadConfig();
      loadData();
      // ge("menudiv").style.display = "none";
      ge("openbtn").style.display = "block";
      ge("programdiv").style.display = "none";
      ge("loaddiv").style.display = "none";
      ge("settingsdiv").style.display = "block";
      ge("viewdiv").style.display = "none";
      closeNav();
    }

    function showView() {
      // ge("menudiv").style.display = "none";
      ge("openbtn").style.display = "block";
      ge("programdiv").style.display = "none";
      ge("loaddiv").style.display = "none";
      ge("settingsdiv").style.display = "none";
      ge("viewdiv").style.display = "block";
      closeNav();
    }

    function editLoad(keydata, datadata){
      clearform();
      clearalerts();
      if (datadata[1] != 0) {
        ge("setLidTemp").value = datadata[1];
      }else {
        ge("setLidTemp").value = "";
      }

      if (datadata[0] === 1 || datadata[0] === 2 || datadata[0] === 3 || datadata[0] === 4) {
        ge("initDenatureTemp").value = datadata[2];
        ge("initDenatureTime").value = datadata[3];
        ge("cycleNum").value = datadata[4];
        ge("denatureTemp").value = datadata[5];
        ge("denatureTime").value = datadata[6];
        ge("annealTime").value = datadata[7];
        ge("extendTemp").value = datadata[8];
        ge("extendTime").value = datadata[9];
        ge("finalExtendTemp").value = datadata[10];
        ge("finalExtendTime").value = datadata[11];
        showTab('programpcr', 'tabpcr');
      }
      if (datadata[0] === 1 || datadata[0] === 3) {
        ge("annealTemp").value = datadata[12];
      }
      if (datadata[0] === 2 || datadata[0] === 4) {
        ge("annealTempLow").value = datadata[12];
        ge("annealTempHigh").value = datadata[13];
      }
      if (datadata[0] === 3 || datadata[0] === 4) {
        ge("TDCycleNum").value = datadata[14];
        ge("TDdenatureTemp").value = datadata[15];
        ge("TDdenatureTime").value = datadata[16];
        ge("TDannealTime").value = datadata[17];
        ge("TDextendTemp").value = datadata[18];
        ge("TDextendTime").value = datadata[19];
      }
      if (datadata[0] === 3) {
        ge("TDStartTemp").value = datadata[20];
        ge("TDEndTemp").value = datadata[21];
        programTD();
      }
      if (datadata[0] === 4) {
        ge("TDLowStartTemp").value = datadata[20];
        ge("TDHighStartTemp").value = datadata[21];
        ge("TDLowEndTemp").value = datadata[22];
        ge("TDHighEndTemp").value = datadata[23];
        programTDG();
      }
      if (datadata[0] === 5 || datadata[0] === 6) {
        ge("rampTime").value = datadata[2];
        showTab('programramp', 'tabramp');
      }
      if (datadata[0] === 5) {
        ge("startRampTemp").value = datadata[3];
        ge("endRampTemp").value = datadata[4];
        regularRampButton();
      }
      if (datadata[0] === 6) {
        ge("lowstartRampTemp").value = datadata[3];
        ge("highstartRampTemp").value = datadata[4];
        ge("lowendRampTemp").value = datadata[5];
        ge("highendRampTemp").value = datadata[6];
        gradientRampButton();
      }
      if (datadata[0] === 7 || datadata[0] === 8) {
        ge("heatBlockTime").value = datadata[2];
        showTab('programheat', 'tabheat');
      }
      if (datadata[0] === 7) {
        ge("heatBlockTemp").value = datadata[3];
        regularHeatButton();
      }
      if (datadata[0] === 8) {
        ge("lowheatBlockTemp").value = datadata[3];
        ge("highheatBlockTemp").value = datadata[4];
        gradientHeatButton();
      }
     ge("programName").value = keydata;
     if (datadata[0] === 1) {
       programRegular();
     }
     if (datadata[0] === 2) {
       programGradient();
     }
     showProgram();
    }

    function deleteLoad(keydata){
      p = "delete:";
      p += keydata;
      p += "*";
      ws.send(p);
      deletechange = true;
    }

    function runLoad(keydata, datadata){
      p = "run:[";
      p += datadata;
      p += "]*";
      p += keydata;
      ws.send(p);
      showView();
    }

    function readTextFile(file, callback) {
      var rawFile = new XMLHttpRequest();
      rawFile.overrideMimeType("application/json");
      rawFile.open("GET", file, true);
      rawFile.onreadystatechange = function() {
        if (rawFile.readyState === 4 && rawFile.status == "200") {
          callback(rawFile.responseText);
        }
      }
      rawFile.send(null);
    }

    function loadConfig(){
      readTextFile("/config.json", function(text) {
        var data = JSON.parse(text);
        if (data.autostart == "true") {
          ge("autostartstat").innerHTML = "ON";
          ge("autostartbutton").value = "Turn Autostart Off";
          ge("autostartprog").innerHTML = data.programname;
        }
        if (data.autostart == "false") {
          ge("autostartstat").innerHTML = "OFF";
          ge("autostartbutton").value = "Turn Autostart On";
          ge("autostartprog").innerHTML = "No Program Selected";
        }
        if (data.userpsw == "false") {
          ge("userpswstat").innerHTML = "OFF";
          ge("userpswbutton").value = "Turn Custom Password On";
        }
        if (data.userpsw == "true") {
          ge("userpswstat").innerHTML = "ON";
          ge("userpswbutton").value = "Turn Custom Password Off";
        }
        if (data.apon == "true") {
          ge("aponstat").innerHTML = "ON";
          ge("aponbutton").value = "Turn proPCR Network Off";
        }
        if (data.apon == "false") {
          ge("aponstat").innerHTML = "OFF";
          ge("aponbutton").value = "Turn proPCR Network On";
        }
        if (data.help == "true") {
          ge("helpstat").innerHTML = "ON";
          ge("helpbutton").value = "Turn Info Boxes Off";
          var helpDivs = document.getElementsByClassName("help"); //helpDivs is an array
            for(var i = 0; i < helpDivs.length; i++){
              helpDivs[i].style.display = "block"; // depending on what you're doing
            }
        }
        if (data.help == "false") {
          ge("helpstat").innerHTML = "OFF";
          ge("helpbutton").value = "Turn Info Boxes On";
          var helpDivs = document.getElementsByClassName("help"); //helpDivs is an array
            for(var i = 0; i < helpDivs.length; i++){
              helpDivs[i].style.display = "none"; // depending on what you're doing
            }
        }
        if (data.theme == "true") {
          changeTheme("light");
          ge("themestat").innerHTML = "LIGHT";
          ge("themebutton").value = "Switch Theme To Dark";
        }
        if (data.theme == "false") {
          changeTheme("dark");
          ge("themestat").innerHTML = "DARK";
          ge("themebutton").value = "Switch Theme To Light";
        }
        if (data.connectwifi == "true") {
          ge("connectwifistat").innerHTML = "ON";
          ge("connectwifibutton").value = "Turn Wifi Connection Off";
          ge("connectnetworkmsg").innerHTML = "Connect to Wifi network is turned on: When the proPCR starts it will connect to the network:"
          ge("connectnetwork").innerHTML = data.userssid;
        }
        if (data.connectwifi == "false") {
          ge("connectwifistat").innerHTML = "OFF";
          ge("connectwifibutton").value = "Turn Wifi Connection On";
          ge("connectnetworkmsg").innerHTML = "Connect to Wifi network is turned off: When the proPCR starts it will only broadcast its own wifi network and will not connect to and another network"
          ge("connectnetwork").innerHTML = "";
        }
      });
    }



    function loadData() {
  ge("loaddiv").innerHTML = "";
  ge("progselect").innerHTML = "";
  var loaddiv = ge("loaddiv");
  var progselect = ge("progselect");
  var h1 = ce("h1");
  h1.setAttribute("id", "loadalert");
  var h3 = ce("h3");
  h3.setAttribute("id", "selectalert");
  progselect.appendChild(h3);
  loaddiv.appendChild(h1);
  ge("loadalert").innerHTML = "Loading...";
  ge("selectalert").innerHTML = "Loading...";
  readTextFile("/programs.json", function(text) {
    var data = JSON.parse(text);

    if (Object.keys(data).length === 0 && data.constructor === Object) {
      ge("loadalert").innerHTML = "No Programs Saved";
      ge("selectalert").innerHTML = "No Programs Saved";
    } else {
      ge("loadalert").innerHTML = "";
      ge("selectalert").innerHTML = "";

      for (var key in data) {
        if (data.hasOwnProperty(key)) {
          var loaddiv;
          var progselect;
          var selectdiv;
          var h4;
          var t2;
          var progdiv;
          var h1;
          var t;
          var buttondiv;
          var run;
          var edit;
          var loaddelete;
          var h5;
          var t3;
          var progtype;

          (function() {
            var keydata = key;
            var datadata = data[key];
            loaddiv = ge("loaddiv");
            progselect = ge("progselect");
            selectdiv = ce("div");
            selectdiv.setAttribute("id", keydata);
            selectdiv.addEventListener("click", function(event) {
              selectLoad(keydata, datadata);
            });
            h4 = ce("h4");
            h4.setAttribute("class", "selectprogname");
            t2 = document.createTextNode(key);
            progdiv = ce("div");
            progdiv.setAttribute("id", keydata);
            h1 = ce("h1");
            h1.setAttribute("class", "loadprogname");
            t = document.createTextNode(key);
            h5 = ce("h4");
            h5.setAttribute("class", "progtitle");
            if (datadata[0] == 1) {
              progtype = "Regular PCR"
            }
            if (datadata[0] == 2) {
              progtype = "Gradient PCR"
            }
            if (datadata[0] == 3) {
              progtype = "Touchdown PCR"
            }
            if (datadata[0] == 4) {
              progtype = "Touchdown Gradient PCR"
            }
            if (datadata[0] == 5) {
              progtype = "Regular Ramp"
            }
            if (datadata[0] == 6) {
              progtype = "Gradient Ramp"
            }
            if (datadata[0] == 7) {
              progtype = "Regular Heat Block"
            }
            if (datadata[0] == 8) {
              progtype = "Gradient Heat Block"
            }
            t3 = document.createTextNode(progtype);
            buttondiv = ce("div");
            buttondiv.setAttribute("class", "buttondiv");
            run = ce("input");
            run.setAttribute("type", "button");
            run.setAttribute("value", "run");
            run.setAttribute("class", "loadbutton");
            run.addEventListener("click", function(event) {
              runLoad(keydata, datadata);
            });
            edit = ce("input");
            edit.setAttribute("type", "button");
            edit.setAttribute("value", "edit");
            edit.setAttribute("class", "loadbutton");
            edit.addEventListener("click", function(event) {
              editLoad(keydata, datadata);
            });
            loaddelete = ce("input");
            loaddelete.setAttribute("type", "button");
            loaddelete.setAttribute("value", "delete");
            loaddelete.setAttribute("class", "loadbutton");
            loaddelete.addEventListener("click", function(event) {
              deleteLoad(keydata);
            });
            h5.appendChild(t3);
            h4.appendChild(t2);
            selectdiv.appendChild(h4);
            progselect.appendChild(selectdiv);
            h1.appendChild(t);
            buttondiv.appendChild(run);
            buttondiv.appendChild(edit);
            buttondiv.appendChild(loaddelete);
            progdiv.appendChild(h1);
            progdiv.appendChild(h5);
            progdiv.appendChild(buttondiv);
            loaddiv.appendChild(progdiv);
            console.log(key + " -> " + data[key]);
          })();
        }
      }
    }
  });
loadConfig();
}


    // function gradientCheck() {
    //   ge("pgradient").style.display = "block";
    //   var checkBox = ge("gradientswitch");
    //   var regular = ge("regularProg");
    //   var gradient = ge("gradientProg");
    //   if (checkBox.checked == true) {
    //     ge("annealTemp").value = "";
    //     regular.style.display = "none";
    //     gradient.style.display = "block";
    //   } else {
    //     ge("annealTempLow").value = "";
    //     ge("annealTempHigh").value = "";
    //     regular.style.display = "block";
    //     gradient.style.display = "none";
    //   }
    // }
    //
    // function showPreheatLid() {
    //   if (Boolean(pcrRunning)) {
    //     ge("ppreheatLidText").innerHTML = "Program Running - Cannot Preheat Lid";
    //   }
    //   var checkBox = ge("preheatlidswitch");
    //   var div = ge("preheatliddiv");
    //   checkBox.checked ? div.style.display = "block" : div.style.display = "none";
    // }
    //
    // function showPreheatBlock() {
    //   if (Boolean(pcrRunning)) {
    //     ge("ppreheatBlockText").innerHTML = "Program Running - Cannot Preheat Block";
    //   }
    //   var checkBox = ge("preheatblockswitch");
    //   var div = ge("preheatblockdiv");
    //   checkBox.checked ? div.style.display = "block" : div.style.display = "none";
    // }

    function preheatLid() {
      if (Boolean(pcrRunning)) {
        ge("ppreheatLidText").innerHTML = "Program Running - Cannot Preheat Lid";
        return;
      }

      btn1 = 'preheatLid=true';
      btn2 = document.getElementsByName('preheatLidInput')[0].value.toString();
      btn3 = 'preheatLidTemp=';
      btn4 = btn3.concat(btn2);
      valuetext = ge('preheatLidButton').value;
      if (valuetext == 'Start' && document.getElementsByName('preheatLidInput')[0].value=='') {
        ge("ppreheatLidText").innerHTML = "Please Enter a Temperature";
        return;
      }else{
        ge("ppreheatLidText").innerHTML = "";
      }
      if (valuetext === 'Start') {
        btn1 = 'preheatLid=true';
      }
      if (valuetext === 'Stop') {
        btn1 = 'preheatLid=false';
      }
      if (ge()) {

      }
      ws.send(btn1);
      ws.send(btn4);
    }

    function preheatBlock() {
      if (Boolean(pcrRunning)) {
        ge("ppreheatBlockText").innerHTML = "Program Running - Cannot Preheat Block";
        return;
      }
      btn5 = 'preheatBlock=true';
      btn6 = document.getElementsByName('preheatBlockInput')[0].value.toString();
      btn7 = 'preheatBlockTemp=';
      btn8 = btn7.concat(btn6);
      valuetext1 = ge('preheatBlockButton').value;
      if (valuetext1 == 'Start' && document.getElementsByName('preheatBlockInput')[0].value=='') {
        ge("ppreheatBlockText").innerHTML = "Please Enter a Temperature";
        return;
      }else{
        ge("ppreheatBlockText").innerHTML = "";
      }
      if (valuetext1 === 'Start') {
        btn5 = 'preheatBlock=true';
      }
      if (valuetext1 === 'Stop') {
        btn5 = 'preheatBlock=false';
      }
      ws.send(btn5);
      ws.send(btn8);
    }

    var formfields = ["setLidTemp", "initDenatureTemp", "initDenatureTime", "cycleNum", "denatureTemp", "denatureTime", "annealTemp", "annealTime", "annealTemp", "annealTempHigh", "annealTempLow", "extendTemp", "extendTime", "finalExtendTemp",
      "finalExtendTime", "programName", "TDCycleNum", "TDdenatureTemp", "TDdenatureTime", "TDLowStartTemp", "TDHighStartTemp", "TDLowEndTemp", "TDHighEndTemp", "TDannealTime", "TDextendTemp", "TDextendTime", "TDStartTemp", "TDEndTemp", "startRampTemp", "endRampTemp", "rampTime", "lowstartRampTemp", "highstartRampTemp", "lowendRampTemp", "highendRampTemp", "heatBlockTime", "heatBlockTemp", "lowheatBlockTemp", "highheatBlockTemp"
    ];
    var formalerts = ["psetLidTemp", "pinitDenatureTemp", "pinitDenatureTime", "pcycleNum", "pdenatureTemp", "pdenatureTime", "pannealTemp", "pannealTime", "pannealTemp", "pannealTempHigh", "pannealTempLow", "pextendTemp", "pextendTime",
      "pfinalExtendTemp", "pfinalExtendTime", "pprogramName", "pTDCycleNum", "pTDdenatureTemp", "pTDdenatureTime", "pTDLowStartTemp", "pTDHighStartTemp", "pTDLowEndTemp", "pTDHighEndTemp", "pTDannealTime", "pTDextendTemp", "pTDextendTime", "pTDStartTemp", "pTDEndTemp", "pstartRampTemp", "pendRampTemp", "prampTime", "plowstartRampTemp", "phighstartRampTemp", "plowendRampTemp", "phighendRampTemp", "pheatBlockTime", "pheatBlockTemp", "plowheatBlockTemp", "phighheatBlockTemp"
    ];

    function clearform() {
      for (var i = 0; i < formfields.length; i++) {
        ge(formfields[i]).value = "";
      }
    }

    function clearalerts() {
      for (var i = 0; i < formalerts.length; i++) {
        ge(formalerts[i]).innerHTML = "";
        ge(formalerts[i]).style.backgroundColor = "none";
      }
    }

    function validate() {
      clearalerts();
      var aok = true;
      if (ge("setLidTemp").value != ""){
        if (isNaN(ge("setLidTemp").value) ||
        ge("setLidTemp").value < 30 || ge("setLidTemp").value > 100) {
        aok = false;
        ge("psetLidTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("psetLidTemp").style.backgroundColor = alertColor;
        ge("setLidTemp").focus();
        }
      }
      if (programType === "pr" || programType === "pg" || programType === "ptd" || programType === "ptdg") {

        if (ge("finalExtendTime").value == "" ||
          isNaN(ge("finalExtendTime").value) ||
          ge("finalExtendTime").value < 0 || ge("finalExtendTime").value > 1200) {
          aok = false;
          ge("pfinalExtendTime").innerHTML = "Please enter a value between 0 and 1200";
          ge("pfinalExtendTime").style.backgroundColor = alertColor;
          ge("finalExtendTime").focus();
        }
        if (ge("finalExtendTemp").value == "" ||
          isNaN(ge("finalExtendTemp").value) ||
          ge("finalExtendTemp").value < 30 || ge("finalExtendTemp").value > 100) {
          aok = false;
          ge("pfinalExtendTemp").innerHTML = "Please enter a value between 30 and 100";
          ge("pfinalExtendTemp").style.backgroundColor = alertColor;
          ge("finalExtendTemp").focus();
        }
        if (ge("extendTime").value == "" ||
          isNaN(ge("extendTime").value) ||
          ge("extendTime").value < 0 || ge("extendTime").value > 1200) {
          aok = false;
          ge("pextendTime").innerHTML = "Please enter a value between 0 and 1200";
          ge("pextendTime").style.backgroundColor = alertColor;
          ge("extendTime").focus();
        }
        if (ge("extendTemp").value == "" ||
          isNaN(ge("extendTemp").value) ||
          ge("extendTemp").value < 30 || ge("extendTemp").value > 100) {
          aok = false;
          ge("pextendTemp").innerHTML = "Please enter a value between 30 and 100";
          ge("pextendTemp").style.backgroundColor = alertColor;
          ge("extendTemp").focus();
        }
        if (ge("annealTime").value == "" ||
          isNaN(ge("annealTime").value) ||
          ge("annealTime").value < 0 || ge("annealTime").value > 1200) {
          aok = false;
          ge("pannealTime").innerHTML = "Please enter a value between 0 and 1200";
          ge("pannealTime").style.backgroundColor = alertColor;
          ge("annealTime").focus();
        }

      if (programType === "pg" || programType === "ptdg") {
        if (
          isNaN(ge("annealTempLow").value) ||
          ge("annealTempLow").value < 30 || ge("annealTempLow").value > 100) {
          aok = false;
          ge("pannealTempLow").innerHTML = "Please enter a value between 30 and 100";
          ge("pannealTempLow").style.backgroundColor = alertColor;
          ge("annealTempLow").focus();
        }
        if (
          isNaN(ge("annealTempHigh").value) ||
          ge("annealTempHigh").value < 30 || ge("annealTempHigh").value > 100) {
          aok = false;
          ge("pannealTempHigh").innerHTML = "Please enter a value between 30 and 100";
          ge("pannealTempHigh").style.backgroundColor = alertColor;
          ge("annealTempHigh").focus();
        }
        if (ge("annealTempHigh").value - ge("annealTempLow").value > 20) {
          aok = false;
          ge("pannealTempHigh").innerHTML = "Please enter temperatures with a 10 degree range or less";
          ge("pannealTempHigh").style.backgroundColor = alertColor;
          ge("annealTempLow").focus();
        }
      }
      if (programType === "pr" || programType === "ptd") {

        if (
          isNaN(ge("annealTemp").value) ||
          ge("annealTemp").value < 30 || ge("annealTemp").value > 100) {
          aok = false;
          ge("pannealTemp").innerHTML = "Please enter a value between 30 and 100";
          ge("pannealTemp").style.backgroundColor = alertColor;
          ge("annealTemp").focus();
        }
      }
      if (ge("denatureTime").value == "" ||
        isNaN(ge("denatureTime").value) ||
        ge("denatureTime").value < 0 || ge("denatureTime").value > 1200) {
        aok = false;
        ge("pdenatureTime").innerHTML = "Please enter a value between 0 and 1200";
        ge("pdenatureTime").style.backgroundColor = alertColor;
        ge("denatureTime").focus();
      }
      if (ge("denatureTemp").value == "" ||
        isNaN(ge("denatureTemp").value) ||
        ge("denatureTemp").value < 30 || ge("denatureTemp").value > 100) {
        aok = false;
        ge("pdenatureTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("pdenatureTemp").style.backgroundColor = alertColor;
        ge("denatureTemp").focus();
      }
      if (ge("initDenatureTime").value == "" ||
        isNaN(ge("initDenatureTime").value) ||
        ge("initDenatureTime").value < 0 || ge("initDenatureTime").value > 1200) {
        aok = false;
        ge("pinitDenatureTime").innerHTML = "Please enter a value between 0 and 1200";
        ge("pinitDenatureTime").style.backgroundColor = alertColor;
        ge("initDenatureTime").focus();
      }
      if (ge("cycleNum").value == "" ||
        isNaN(ge("cycleNum").value) ||
        ge("cycleNum").value < 1 || ge("cycleNum").value > 100) {
        aok = false;
        ge("pcycleNum").innerHTML = "Please enter a value between 1 and 100";
        ge("pcycleNum").style.backgroundColor = alertColor;
        ge("cycleNum").focus();
      }
      if (ge("initDenatureTemp").value == "" ||
        isNaN(ge("initDenatureTemp").value) ||
        ge("initDenatureTemp").value < 30 || ge("initDenatureTemp").value > 100) {
        aok = false;
        ge("pinitDenatureTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("pinitDenatureTemp").style.backgroundColor = alertColor;
        ge("initDenatureTemp").focus();
      }
    }
    if (programType === "ptd" || programType === "ptdg") {
      if (ge("TDextendTime").value == "" ||
        isNaN(ge("TDextendTime").value) ||
        ge("TDextendTime").value < 0 || ge("TDextendTime").value > 1200) {
        aok = false;
        ge("pTDextendTime").innerHTML = "Please enter a value between 0 and 1200";
        ge("pTDextendTime").style.backgroundColor = alertColor;
        ge("TDextendTime").focus();
      }
      if (ge("TDextendTemp").value == "" ||
        isNaN(ge("TDextendTemp").value) ||
        ge("TDextendTemp").value < 30 || ge("TDextendTemp").value > 100) {
        aok = false;
        ge("pTDextendTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("pTDextendTemp").style.backgroundColor = alertColor;
        ge("TDextendTemp").focus();
      }
      if (ge("TDannealTime").value == "" ||
        isNaN(ge("TDannealTime").value) ||
        ge("TDannealTime").value < 0 || ge("TDannealTime").value > 1200) {
        aok = false;
        ge("pTDannealTime").innerHTML = "Please enter a value between 0 and 1200";
        ge("pTDannealTime").style.backgroundColor = alertColor;
        ge("TDannealTime").focus();
      }

    if (programType === "ptd") {
      if (
        isNaN(ge("TDEndTemp").value) ||
        ge("TDEndTemp").value < 30 || ge("TDEndTemp").value > 100) {
        aok = false;
        ge("pTDEndTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("pTDEndTemp").style.backgroundColor = alertColor;
        ge("TDEndTemp").focus();
      }
      if (
        isNaN(ge("TDStartTemp").value) ||
        ge("TDStartTemp").value < 30 || ge("TDStartTemp").value > 100) {
        aok = false;
        ge("pTDStartTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("pTDStartTemp").style.backgroundColor = alertColor;
        ge("TDStartTemp").focus();
      }
    }
    if (programType === "ptdg") {
      if (
        isNaN(ge("TDHighEndTemp").value) ||
        ge("TDHighEndTemp").value < 30 || ge("TDHighEndTemp").value > 100) {
        aok = false;
        ge("pTDHighEndTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("pTDHighEndTemp").style.backgroundColor = alertColor;
        ge("TDHighEndTemp").focus();
      }
      if (
        isNaN(ge("TDLowEndTemp").value) ||
        ge("TDLowEndTemp").value < 30 || ge("TDLowEndTemp").value > 100) {
        aok = false;
        ge("pTDLowEndTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("pTDLowEndTemp").style.backgroundColor = alertColor;
        ge("TDLowEndTemp").focus();
      }
      if (ge("TDHighEndTemp").value - ge("TDLowEndTemp").value > 8) {
        aok = false;
        ge("pTDHighEndTemp").innerHTML = "Please enter temperatures with an 8 degree range or less";
        ge("pTDHighEndTemp").style.backgroundColor = alertColor;
        ge("TDHighEndTemp").focus();
      }
      if (
        isNaN(ge("TDHighStartTemp").value) ||
        ge("TDHighStartTemp").value < 30 || ge("TDHighStartTemp").value > 100) {
        aok = false;
        ge("pTDHighStartTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("pTDHighStartTemp").style.backgroundColor = alertColor;
        ge("TDHighStartTemp").focus();
      }
      if (
        isNaN(ge("TDLowStartTemp").value) ||
        ge("TDLowStartTemp").value < 30 || ge("TDLowStartTemp").value > 100) {
        aok = false;
        ge("pTDLowStartTemp").innerHTML = "Please enter a value between 30 and 100";
        ge("pTDLowStartTemp").style.backgroundColor = alertColor;
        ge("TDLowStartTemp").focus();
      }
      if (ge("TDHighStartTemp").value - ge("TDLowStartTemp").value > 8) {
        aok = false;
        ge("pTDHighStartTemp").innerHTML = "Please enter temperatures with an 8 degree range or less";
        ge("pTDHighStartTemp").style.backgroundColor = alertColor;
        ge("TDHighStartTemp").focus();
      }
    }
    if (ge("TDdenatureTime").value == "" ||
      isNaN(ge("TDdenatureTime").value) ||
      ge("TDdenatureTime").value < 0 || ge("TDdenatureTime").value > 1200) {
      aok = false;
      ge("pTDdenatureTime").innerHTML = "Please enter a value between 0 and 1200";
      ge("pTDdenatureTime").style.backgroundColor = alertColor;
      ge("TDdenatureTime").focus();
    }
    if (ge("TDdenatureTemp").value == "" ||
      isNaN(ge("TDdenatureTemp").value) ||
      ge("TDdenatureTemp").value < 30 || ge("TDdenatureTemp").value > 100) {
      aok = false;
      ge("pTDdenatureTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("pTDdenatureTemp").style.backgroundColor = alertColor;
      ge("TDdenatureTemp").focus();
    }
    if (ge("TDCycleNum").value == "" ||
      isNaN(ge("TDCycleNum").value) ||
      ge("TDCycleNum").value < 1 || ge("TDCycleNum").value > 100) {
      aok = false;
      ge("pTDCycleNum").innerHTML = "Please enter a value between 1 and 100";
      ge("pTDCycleNum").style.backgroundColor = alertColor;
      ge("TDCycleNum").focus();
    }
  }
  if (programType === "rr" || programType === "rg") {
    if (ge("rampTime").value == "" ||
      isNaN(ge("rampTime").value) ||
      ge("rampTime").value < 0 || ge("rampTime").value > 1440) {
      aok = false;
      ge("prampTime").innerHTML = "Please enter a value between 0 and 1440";
      ge("prampTime").style.backgroundColor = alertColor;
      ge("rampTime").focus();
    }
  if (programType === "rr"){
    if (ge("endRampTemp").value == "" ||
      isNaN(ge("endRampTemp").value) ||
      ge("endRampTemp").value < 30 || ge("endRampTemp").value > 100) {
      aok = false;
      ge("pendRampTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("pendRampTemp").style.backgroundColor = alertColor;
      ge("endRampTemp").focus();
    }
    if (ge("startRampTemp").value == "" ||
      isNaN(ge("startRampTemp").value) ||
      ge("startRampTemp").value < 30 || ge("startRampTemp").value > 100) {
      aok = false;
      ge("pstartRampTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("pstartRampTemp").style.backgroundColor = alertColor;
      ge("startRampTemp").focus();
    }
  }
  if (programType === "rg"){
    if (ge("highendRampTemp").value == "" ||
      isNaN(ge("highendRampTemp").value) ||
      ge("highendRampTemp").value < 30 || ge("highendRampTemp").value > 100) {
      aok = false;
      ge("phighendRampTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("phighendRampTemp").style.backgroundColor = alertColor;
      ge("highendRampTemp").focus();
    }
    if (ge("lowendRampTemp").value == "" ||
      isNaN(ge("lowendRampTemp").value) ||
      ge("lowendRampTemp").value < 30 || ge("lowendRampTemp").value > 100) {
      aok = false;
      ge("plowendRampTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("plowendRampTemp").style.backgroundColor = alertColor;
      ge("lowendRampTemp").focus();
    }
    if (ge("highstartRampTemp").value == "" ||
      isNaN(ge("highstartRampTemp").value) ||
      ge("highstartRampTemp").value < 30 || ge("highstartRampTemp").value > 100) {
      aok = false;
      ge("phighstartRampTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("phighstartRampTemp").style.backgroundColor = alertColor;
      ge("highstartRampTemp").focus();
    }
    if (ge("lowstartRampTemp").value == "" ||
      isNaN(ge("lowstartRampTemp").value) ||
      ge("lowstartRampTemp").value < 30 || ge("lowstartRampTemp").value > 100) {
      aok = false;
      ge("plowstartRampTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("plowstartRampTemp").style.backgroundColor = alertColor;
      ge("lowstartRampTemp").focus();
    }
  }
}
if (programType === "hr" || programType === "hg") {
  if (ge("heatBlockTime").value == "" ||
    isNaN(ge("heatBlockTime").value) ||
    ge("heatBlockTime").value < 0 || ge("heatBlockTime").value > 1440) {
    aok = false;
    ge("pheatBlockTime").innerHTML = "Please enter a value between 0 and 1440";
    ge("pheatBlockTime").style.backgroundColor = alertColor;
    ge("heatBlockTime").focus();
  }
  if (programType === "hr"){
    if (ge("heatBlockTemp").value == "" ||
      isNaN(ge("heatBlockTemp").value) ||
      ge("heatBlockTemp").value < 30 || ge("heatBlockTemp").value > 100) {
      aok = false;
      ge("pheatBlockTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("pheatBlockTemp").style.backgroundColor = alertColor;
      ge("heatBlockTemp").focus();
    }
  }
  if (programType === "hg"){
    if (ge("highheatBlockTemp").value == "" ||
      isNaN(ge("highheatBlockTemp").value) ||
      ge("highheatBlockTemp").value < 30 || ge("highheatBlockTemp").value > 100) {
      aok = false;
      ge("phighheatBlockTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("phighheatBlockTemp").style.backgroundColor = alertColor;
      ge("highheatBlockTemp").focus();
    }
    if (ge("lowheatBlockTemp").value == "" ||
      isNaN(ge("lowheatBlockTemp").value) ||
      ge("lowheatBlockTemp").value < 30 || ge("lowheatBlockTemp").value > 100) {
      aok = false;
      ge("plowheatBlockTemp").innerHTML = "Please enter a value between 30 and 100";
      ge("plowheatBlockTemp").style.backgroundColor = alertColor;
      ge("lowheatBlockTemp").focus();
    }
  }
}

      if (Boolean(aok)) {
        return true;
      } else {
        return false;
      }
    }

    function expandShow(setting, icon){
      if (ge(setting).style.display == "none") {
        ge(icon).innerHTML = "&mdash;";
        ge(setting).style.display = "block";
      }else{
        ge(icon).innerHTML = "+";
        ge(setting).style.display = "none";
      }
    }

    // function autostartShow(){
    //   if (ge("autostart").style.display == "none") {
    //     ge("autostarticon").innerHTML = "&mdash;";
    //     ge("autostart").style.display = "block";
    //   }else{
    //     ge("autostarticon").innerHTML = "+";
    //     ge("autostart").style.display = "none";
    //   }
    // }

    function connectwifiShow(){
      if (ge("connectwifi").style.display == "none") {
        ge("connectwifiicon").innerHTML = "&mdash;";
        ge("connectwifi").style.display = "block";
      }else{
        ge("connectwifiicon").innerHTML = "+";
        ge("connectwifi").style.display = "none";
      }
    }

    function aponShow(){
      if (ge("apon").style.display == "none") {
        ge("aponicon").innerHTML = "&mdash;";
        ge("apon").style.display = "block";
      }else{
        ge("aponicon").innerHTML = "+";
        ge("apon").style.display = "none";
      }
    }

    function userpswShow(){
      if (ge("userpsw").style.display == "none") {
        ge("userpswicon").innerHTML = "&mdash;";
        ge("userpsw").style.display = "block";
      }else{
        ge("userpswicon").innerHTML = "+";
        ge("userpsw").style.display = "none";
      }
    }

    function quietfanShow(){
      if (ge("quietfan").style.display == "none") {
        ge("quietfanicon").innerHTML = "&mdash;";
        ge("quietfan").style.display = "block";
      }else{
        ge("quietfanicon").innerHTML = "+";
        ge("quietfan").style.display = "none";
      }
    }

    function getData() {
      p = "[";
      if (programType === "pr") {
        p += "1";
      }
      if (programType === "pg") {
        p += "2";
      }
      if (programType === "ptd") {
        p += "3";
      }
      if (programType === "ptdg") {
        p += "4";
      }
      if (programType === "rr") {
        p += "5";
      }
      if (programType === "rg") {
        p += "6";
      }
      if (programType === "hr") {
        p += "7";
      }
      if (programType === "hg") {
        p += "8";
      }
      if (ge("setLidTemp").value == "") {
        p += ",0"
      }else{
        p += ",";
        p += ge("setLidTemp").value.toString();
      }
      if (programType === "pr" || programType === "pg" || programType === "ptd" || programType === "ptdg") {
        p += ",";
        p += ge("initDenatureTemp").value.toString();
        p += ",";
        p += ge("initDenatureTime").value.toString();
        p += ",";
        p += ge("cycleNum").value.toString();
        p += ",";
        p += ge("denatureTemp").value.toString();
        p += ",";
        p += ge("denatureTime").value.toString();
        p += ",";
        p += ge("annealTime").value.toString();
        p += ",";
        p += ge("extendTemp").value.toString();
        p += ",";
        p += ge("extendTime").value.toString();
        p += ",";
        p += ge("finalExtendTemp").value.toString();
        p += ",";
        p += ge("finalExtendTime").value.toString();
      }
      if (programType === "pr" || programType === "ptd") {
        p += ",";
        p += ge("annealTemp").value.toString();
        p += ",0";
      }
      if (programType === "pg" || programType === "ptdg") {
        p += ",";
        p += ge("annealTempLow").value.toString();
        p += ",";
        p += ge("annealTempHigh").value.toString();
      }
      if (programType === "ptd" || programType === "ptdg") {
        p += ",";
        p += ge("TDCycleNum").value.toString();
        p += ",";
        p += ge("TDdenatureTemp").value.toString();
        p += ",";
        p += ge("TDdenatureTime").value.toString();
        p += ",";
        p += ge("TDannealTime").value.toString();
        p += ",";
        p += ge("TDextendTemp").value.toString();
        p += ",";
        p += ge("TDextendTime").value.toString();
      }
      if (programType === "ptd"){
        p += ",";
        p += ge("TDStartTemp").value.toString();
        p += ",";
        p += ge("TDEndTemp").value.toString();
      }
      if (programType === "ptdg"){
        p += ",";
        p += ge("TDLowStartTemp").value.toString();
        p += ",";
        p += ge("TDHighStartTemp").value.toString();
        p += ",";
        p += ge("TDLowEndTemp").value.toString();
        p += ",";
        p += ge("TDHighEndTemp").value.toString();
      }
      if (programType === "rr" || programType === "rg") {
        p += ",";
        p += ge("rampTime").value.toString();
      }
      if (programType === "rr") {
        p += ",";
        p += ge("startRampTemp").value.toString();
        p += ",";
        p += ge("endRampTemp").value.toString();
      }
      if (programType === "rg") {
        p += ",";
        p += ge("lowstartRampTemp").value.toString();
        p += ",";
        p += ge("highstartRampTemp").value.toString();
        p += ",";
        p += ge("lowendRampTemp").value.toString();
        p += ",";
        p += ge("highendRampTemp").value.toString();
      }
      if (programType === "hr" || programType === "hg") {
        p += ",";
        p += ge("heatBlockTime").value.toString();
      }
      if (programType === "hr"){
        p += ",";
        p += ge("heatBlockTemp").value.toString();
      }
      if (programType === "hg"){
        p += ",";
        p += ge("lowheatBlockTemp").value.toString();
        p += ",";
        p += ge("highheatBlockTemp").value.toString();
      }

      p += "]*";
      return p
    }


    function saveProgram() {
      if (ge("programName").value == "") {
        ge("pprogramName").innerHTML = "Please enter a program name";
        ge("pprogramName").style.backgroundColor = alertColor;
        ge("programName").focus();
        return;
      }
      if (validate()) {
        p = "save:"
        p += getData();
        p += ge("programName").value.toString();
        ws.send(p);
        savechange = true;
      }
    }

    function sendProgram() {
      if (validate()) {
        p = "run:"
        p += getData();
        p += ge("programName").value.toString();
        ws.send(p);
        showView();
      }
    }

    var savechange = false;
    var deletechange = false;
    var autostartchange = false;
    var helpchange = false;
    var themechange = false;
    var aponchange = false;
    var connectchange = false;
    var userpswchange = false;
    var resetchange = false;
    var titleSet = true;
    var WSdisconnected = false;
    var intervalTimer;
    var isgradient = false;
    

    function connectionCheck(){
      intervalTimer = setInterval(disconnectCheck, 5000);
    }

    function disconnectCheck(){
      if(WSdisconnected){
      ge("connectstatus").innerHTML = "DISCONNECTED";
      ge("connectionalert").innerHTML = "Please check wifi / refresh the browser window";
      ge("navbar").style.height = "95px";
      ge("machineid").innerHTML = "";
      ge("connectview").style.color = "red";
      ge("connectdot").style.backgroundColor = "red";
      }
      WSdisconnected = true;
    }

    function copyAddress(){
      var copyText = document.getElementById("ipaddresstext");
      copyText.select();
      document.execCommand("copy");
      ge("copyaddress").innerHTML = "Copied";
    }
    

    function InitWebSocket() {
      var progtitle;
      var progtype;
      ws = new WebSocket('ws://'+document.location.host+'/ws',['arduino']);
      ws.binaryType = "arraybuffer";

      ws.onmessage = function(evt) {
        WSdisconnected = false;
        JSONobj = JSON.parse(evt.data);
        if (Boolean(titleSet)) {
          titleSet = false;
          var titleName = "proPCR " + JSONobj.chipid;
          ge("machineid").innerHTML = JSONobj.chipid;
          document.title = titleName;
          ge("appleTitle").setAttribute("content", titleName);
          ge("appTitle").setAttribute("content", titleName);
        }
        
        pcrRunning = Number(JSONobj.pcrOn)
        if (pcrRunning) {
          pcrRunning = true;
          ge('displaydiv').style.display = "block";
          ge('displaydiv1').style.display = "block";
          if (JSONobj.pauseSwitch == "Unpause") {
            ge('progstate').innerHTML = "Paused";
          } else {
            ge('progstate').innerHTML = "Running";
          }
          if (JSONobj.programName != "") {
            ge("progname").innerHTML = "\"" + JSONobj.programName + "\"";
          }else {
            ge("progname").innerHTML = "";
          }
          progtitle = JSONobj.programType;
          if (progtitle == 1) {
            progtype = "Regular PCR";
            isgradient = false;
          }
          if (progtitle == 2) {
            progtype = "Gradient PCR";
            isgradient = true;
          }
          if (progtitle == 3) {
            progtype = "Touchdown PCR";
            isgradient = false;
          }
          if (progtitle == 4) {
            progtype = "Touchdown Gradient PCR";
            isgradient = true;
          }
          if (progtitle == 5) {
            progtype = "Regular Ramp";
            isgradient = false;
          }
          if (progtitle == 6) {
            progtype = "Gradient Ramp";
            isgradient = true;
          }
          if (progtitle == 7) {
            progtype = "Regular Heat Block";
            isgradient = false;
          }
          if (progtitle == 8) {
            progtype = "Gradient Heat Block";
            isgradient = true;
          }
          ge("progtitle").innerHTML = progtype;
          ge('cycleState').innerHTML = JSONobj.cycleState;
          if (progtitle == 1 || progtitle == 2 ||progtitle == 3 ||progtitle == 4) {

            if (JSONobj.cycleState == "Initial Denature"){
              ge('cycleTime').innerHTML = JSONobj.totalTime;}
            if (JSONobj.cycleState == "Touchdown Phase Denature Step"){
              ge('cyclediv').style.display = "block";
            }
            if (JSONobj.cycleState == "Touchdown Phase Anneal Step"){
              ge('cyclediv').style.display = "block";
              ge('cycleTime').innerHTML = JSONobj.totalTime;}
            if (JSONobj.cycleState == "Touchdown Phase Extend Step"){
              ge('cyclediv').style.display = "block";
              ge('cycleTime').innerHTML = JSONobj.totalTime;}
            if (JSONobj.cycleState == "Denature Step"){
              ge('cyclediv').style.display = "block";
              ge('cycleTime').innerHTML = JSONobj.totalTime;}
            if (JSONobj.cycleState == "Anneal Step"){
              ge('cyclediv').style.display = "block";
              ge('cycleTime').innerHTML = JSONobj.totalTime;}
            if (JSONobj.cycleState == "Extend Step"){
              ge('cyclediv').style.display = "block";
              ge('cycleTime').innerHTML = JSONobj.totalTime;}
            if (JSONobj.cycleState == "Final Extend Step"){
              ge('cyclediv').style.display = "none";
              ge('cycleTime').innerHTML = JSONobj.totalTime;}
              ge('cycleNumber').innerHTML = JSONobj.cycleNum;
              ge('cycleCount').innerHTML = JSONobj.cycleCount;
          }else {
            ge('cyclediv').style.display = "none";
          }
          ge('timer').innerHTML = JSONobj.timer;
          if (Boolean(Number(JSONobj.timerStarted))) {
            ge("timerdiv").style.display = "block";
          }else{
            ge("timerdiv").style.display = "none";
          }

          if (isgradient) {
            ge("gradienttemp").style.display = "block";
            ge("singleblocktemp").style.display = "none";
            ge('tempone').innerHTML = JSONobj.tempone;
            ge('temptwo').innerHTML = JSONobj.temptwo;
            ge('tempthree').innerHTML = JSONobj.tempthree;
          } else {
            ge("singleblocktemp").style.display = "block";
            ge("gradienttemp").style.display = "none";
          }
        } else {
          ge('progstate').innerHTML = "PCR Ready";
          ge('progname').innerHTML = "";
          ge('displaydiv').style.display = "none";
          ge('displaydiv1').style.display = "none";
        }
        if (JSONobj.connected == "true") {
          connected = true;
          var stringip = "http://"+JSONobj.localIPaddress;
          ge("ipinfo").style.display = "block";
          ge("navbar").style.height = "110px";
          document.querySelector(".container").style.marginTop = "115px";
          ge("ssidname").innerHTML = JSONobj.userssid;
          ge("ipaddress").innerHTML = stringip;
          ge("ipaddress").href = stringip;
          ge("ipaddresstext").value = stringip;


        }else{
          ge("ipinfo").style.display = "none";
          connected = false;
        }
        if (JSONobj.Setpointlid == "0") {
          ge('Setpointlid').innerHTML = "Not Set"
        }else {
          ge('Setpointlid').innerHTML = JSONobj.Setpointlid + "&deg;C";
        }
        if (JSONobj.Setpointblock == "0") {
          ge('Setpointblock').innerHTML = "Not Set"
        }else {
          ge('Setpointblock').innerHTML = JSONobj.Setpointblock + "&deg;C";
        }

        ge('preheatLidTemp').innerHTML = JSONobj.templid;
        ge('templid').innerHTML = JSONobj.templid;
        ge('preheatLidText').innerHTML = JSONobj.preheatLidText;
        if (ge('preheatLidText').innerHTML == "Lid is On") {
          ge('pretextlid').style.backgroundColor = buttonSelected;
          ge('preheatLidset').style.backgroundColor = buttonSelected;
          ge("preheatlidstat").innerHTML = "&nbsp;Preheat Lid: ON";
        } else {
          ge('pretextlid').style.backgroundColor = buttonDeselected;
          ge('preheatLidset').style.backgroundColor = buttonDeselected;
          ge("preheatlidstat").innerHTML = "&nbsp;Preheat Lid: OFF";
        }
        ge('preheatBlockTemp').innerHTML = JSONobj.blockTemp;
        ge('blockTemp1').innerHTML = JSONobj.blockTemp;
        ge('preheatBlockText').innerHTML = JSONobj.preheatBlockText;
        if (ge('preheatBlockText').innerHTML == "Block is On") {
          ge('preheatBlockset').style.backgroundColor = buttonSelected;
          ge("preheatblockstat").innerHTML = "&nbsp;Preheat Block: ON";
          ge('pretextblock').style.backgroundColor = buttonSelected;
        } else {
          ge('preheatBlockset').style.backgroundColor = buttonDeselected;
          ge("preheatblockstat").innerHTML = "&nbsp;Preheat Block: OFF";
          ge('pretextblock').style.backgroundColor = buttonDeselected;
        }
        ge('preheatLidButton').value = JSONobj.preheatLidButton;
        ge('pauseButton').value = JSONobj.pauseSwitch;
        ge('preheatBlockButton').value = JSONobj.preheatBlockButton;
        if (Boolean(savechange) && Object.keys(JSONobj)[0] == "savealert") {
          ge('savealert').innerHTML = JSONobj.savealert;
          savechange = false;
        }
        if (Boolean(autostartchange) && Object.keys(JSONobj)[0] == "autostartalert") {
          ge('autostartalert').innerHTML = JSONobj.autostartalert;
          autostartchange = false;
          loadConfig();
        }
        if (Boolean(aponchange) && Object.keys(JSONobj)[0] == "aponalert") {
          ge('aponalert').innerHTML = JSONobj.aponalert;
          aponchange = false;
          loadConfig();
        }
        if (Boolean(helpchange) && Object.keys(JSONobj)[0] == "helpalert") {
          ge('helpalert').innerHTML = JSONobj.helpalert;
          helpchange = false;
          loadConfig();
        }
        if (Boolean(themechange) && Object.keys(JSONobj)[0] == "themealert") {
          ge('themealert').innerHTML = JSONobj.themealert;
          themechange = false;
          loadConfig();
        }
        if (Boolean(resetchange) && Object.keys(JSONobj)[0] == "resetalert") {
          ge('resetalert').innerHTML = JSONobj.resetalert;
          resetchange = false;

        }
        if (Boolean(connectchange) && Object.keys(JSONobj)[0] == "connectalert") {
          ge('connectalert').innerHTML = JSONobj.connectalert;
          connectchange = false;
          loadConfig();
        }
        if (Boolean(userpswchange) && Object.keys(JSONobj)[0] == "userpswalert") {
          ge('userpswalert').innerHTML = JSONobj.userpswalert;
          userpswchange = false;
          loadConfig();
        }
        if (Boolean(deletechange) && Object.keys(JSONobj)[0] == "deletealert") {
          var deleted = ge(JSONobj.deleted);
          deleted.innerHTML = "";
          var h1 = ce("h1");
          var t = document.createTextNode(JSONobj.deletealert);
          h1.appendChild(t);
          deleted.appendChild(h1);
          deletechange = false;
        }

      }
    }
    function onBodyLoad() {
      document.body.style.visibility='visible';
      loadConfig();
      showProgram();
      showTab('programpcr', 'tabpcr');
      InitWebSocket();
      regularRampButton();
      regularHeatButton();
      programRegular();
      openNav();
      connectionCheck();
    }

    function pauseButton() {
      a = 'isPaused=true';
      pause = ge('pauseButton').value;
      if (pause === 'Pause') {
        a = 'isPaused=true';
      }
      if (pause === 'Unpause') {
        a = 'isPaused=false';
      }
      ws.send(a);
    }

    window.onclick = function(event) {
      var modal = ge("stopModal");
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    function stopButton() {
      ge("stopModal").style.display = "block";
    }

function confirmButton(){
  ge('progstate').innerHTML = "PCR Ready";
  a = 'stop:';
  ws.send(a);
  ge("stopModal").style.display = "none";
}

function cancelButton(){
  ge("stopModal").style.display = "none";
}

function selectLoad(key, keydata){
  ge("autostartprog").innerHTML = key;
  ge("autostartprog").setAttribute("data-autostart", keydata);
}

function autostartSend(){
  if (ge("autostartprog").innerHTML != "No Program Selected") {
  autostartchange = true;
  var autostart = ge("autostartprog");
  var data = autostart.dataset.autostart;
  p = "autostart:"
  p += data;
  p += "*"
  p += ge("autostartprog").innerHTML;
  ws.send(p);
}
if (ge("autostartbutton").value == "Turn Autostart Off") {

}
}

function userpswSend(){
  userpswchange = true;
  var aok = true;
  if (ge("userpswbutton").value == "Turn Custom Password On") {
    if (ge("userpswinput").value < 8 || ge("userpswinput").value > 63) {
      aok = false;
      ge("puserpswinput").innerHTML = "Please enter a password between 8 and 63 characters";
      ge("puserpswinput").style.backgroundColor = alertColor;
      ge("userpswinput").focus();
    }

    p = "userpswon:";
    p += ge("userpswinput").value;
    p += "*";
  }
  if (ge("userpswbutton").value == "Turn Custom Password Off") {
    p = "userpswoff:";
  }
  if (Boolean(aok)) {
    ws.send(p);
  }

}
var firstreset = true;
function resetFiles(){
  if (Boolean(firstreset)) {
    ge("resetconfirm").innerHTML = "Are you sure you want to reset the PCR?";
    ge("resetButton").value = "CONFIRM RESET";
    firstreset = false;
    return;
  } else {
    ge("resetconfirm").innerHTML = "";
    ge("resetButton").value = "Reset";

    firstreset = true;
    p = 'reset:';
    ws.send(p);
  }
}


function updateFirmware(){
  
    p = 'update1:';
    ws.send(p);
  }


function updateSPIFFS(){
  
  p = 'update2:';
  ws.send(p);
}



function quietfanSend(){
    p = "quietfan:";
    if (ge("quietfanbutton").value = "Turn Quiet Fan On") {
      p += "true";
    }
    if (ge("quietfanbutton").value = "Turn Quiet Fan Off") {
      p += "false";
    }
    p += "*";
    ws.send(p);
}

function connectWifi(){
    connectchange = true;
  if (ge("connectwifibutton").value == "Turn Wifi Connection On") {
    p = "wifion:";
    p += ge("wifiname").value;
    p += "*";
    p += ge("wifipass").value;
    ws.send(p);
    ge("connectwifibutton").value == "Turn Wifi Connection Off";
  }
  if (ge("connectwifibutton").value == "Turn Wifi Connection Off") {
    p = "wifioff:";
    ws.send(p);

  }
}

function aponSend(){
  if (ge("aponbutton").value == "Turn proPCR Network Off") {
    if (Boolean(connected)) {
      aponchange = true;
      p = "apon:";
      ws.send(p);

    }else{
      ge("aponalert").innerHTML = "You must be connected to a wifi network to disable the proPCR wifi broadcast";
      ge("aponalert").style.backgroundColor = alertColor;
    }
  }
  if (ge("aponbutton").value == "Turn proPCR Network On") {
      aponchange = true;
      p = "apon:";
      ws.send(p);

    }
  }

  function helpSend(){
    if (ge("helpbutton").value == "Turn Info Boxes Off") {
      var helpDivs = document.getElementsByClassName("help"); //helpDivs is an array
        for(var i = 0; i < helpDivs.length; i++){
          helpDivs[i].style.display = "none"; 
        }
        helpchange = true;
        p = "help:";
        ws.send(p);
    }
    if (ge("helpbutton").value == "Turn Info Boxes On") {
        helpchange = true;
        p = "help:";
        ws.send(p);

      }
    }

    function themeSend(){
          themechange = true;
          p = "theme:";
          ws.send(p);
      }


function showTab(tab, tablink){
  ge("programpcr").style.display = "none";
  ge("programramp").style.display = "none";
  ge("programheat").style.display = "none";


  ge("tabpcr").style.borderBottom = borderThin;
  ge("tabpcr").style.borderTop = "none";
  ge("tabramp").style.borderBottom = borderThin;
  ge("tabramp").style.borderTop = "none";
  ge("tabheat").style.borderBottom = borderThin;
  ge("tabheat").style.borderTop = "none";
  // ge("tabheat").style.borderRight = borderThin;
  ge(tablink).style.borderTop = borderThick;
  ge(tab).style.display = "block";
  ge(tablink).style.borderBottom = "none";



  if (tablink == "tabpcr") {
    programTab = "p";
    if (isOrange("regularButton")) {
      programButton = "r";
    }
    if (isOrange("gradientButton")) {
      programButton = "g";
    }
    if (isOrange("TDButton")) {
      programButton = "td";
    }
    if (isOrange("TDGButton")) {
      programButton = "tdg";
    }
    programType = programTab + programButton;
  }
  if (tablink == "tabramp") {
    programTab = "r";
    if (isOrange("regularRampButton")) {
      programButton = "r";
    }
    if (isOrange("gradientRampButton")) {
      programButton = "g";
    }
    programType = programTab + programButton;
  }
  if (tablink == "tabheat") {
    programTab = "h";
    if (isOrange("regularHeatButton")) {
      programButton = "r";
    }
    if (isOrange("gradientHeatButton")) {
      programButton = "g";
    }
    programType = programTab + programButton;
  }
}


function regularHeatButton(){
      programButton = "r";
      programType = programTab + programButton;
      turnWhite("gradientHeatButton");
      turnOrange("regularHeatButton");
      ge("gradheatstat").innerHTML = "Regular Heat Block:";
      displayBlock("regheat");
      displayNone("gradheat");
}

function gradientHeatButton(){
      programButton = "g";
      programType = programTab + programButton;
      turnOrange("gradientHeatButton");
      turnWhite("regularHeatButton");
      ge("gradheatstat").innerHTML = "Gradient Heat Block:";
      displayNone("regheat");
      displayBlock("gradheat");
}

function regularRampButton(){
      programButton = "r";
      programType = programTab + programButton;
      turnWhite("gradientRampButton");
      turnOrange("regularRampButton");
      ge("gradrampstat").innerHTML = "Regular Ramp:";
      displayBlock("regramp");
      displayNone("gradramp");
}

function gradientRampButton(){
      programButton = "g";
      programType = programTab + programButton;
      turnOrange("gradientRampButton");
      turnWhite("regularRampButton");
      ge("gradrampstat").innerHTML = "Gradient Ramp:";
      displayNone("regramp");
      displayBlock("gradramp");
  }

function programRegular(){
  programButton = "r";
  programType = programTab + programButton;
  ge("progtype").innerHTML = "Regular PCR:"
  turnOrange("regularButton");
  turnWhite("gradientButton");
  turnWhite("TDButton");
  turnWhite("TDGButton");
  displayBlock("initialdiv");
  displayNone("TDdiv");
  displayBlock("regularProg");
  displayNone("gradientProg");
  displayBlock("saverundiv");
}

function programGradient(){
  programButton = "g";
  programType = programTab + programButton;
  ge("progtype").innerHTML = "Gradient PCR:"
  turnWhite("regularButton");
  turnOrange("gradientButton");
  turnWhite("TDButton");
  turnWhite("TDGButton");
  displayBlock("initialdiv");
  displayNone("TDdiv");
  displayNone("regularProg");
  displayBlock("gradientProg");
  displayBlock("saverundiv");
}

function programTD(){
  programButton = "td";
  programType = programTab + programButton;
  ge("progtype").innerHTML = "Touchdown PCR:"
  turnWhite("regularButton");
  turnWhite("gradientButton");
  turnOrange("TDButton");
  turnWhite("TDGButton");
  displayBlock("initialdiv");
  displayBlock("TDdiv");
  displayBlock("TDregulardiv");
  displayNone("TDGdiv");
  displayBlock("regularProg");
  displayNone("gradientProg");
  displayBlock("saverundiv");
}

function programTDG(){
  programButton = "tdg";
  programType = programTab + programButton;
  ge("progtype").innerHTML = "Touchdown Gradient PCR:"
  turnWhite("regularButton");
  turnWhite("gradientButton");
  turnWhite("TDButton");
  turnOrange("TDGButton");
  displayBlock("initialdiv");
  displayBlock("TDdiv");
  displayNone("TDregulardiv");
  displayBlock("TDGdiv");
  displayNone("regularProg");
  displayBlock("gradientProg");
  displayBlock("saverundiv");
}

function changeTheme(theme){
  if (theme === "dark"){
    themeColor = "dark";
    borderThin = "1px solid #a7a7a7";
    borderThick = "3px solid #a7a7a7";
    alertColor = "#ff9d2e";
    buttonSelected = "#754106";
    buttonDeselected = "#111";
    if (Boolean(firstload)) {
      ge("logo").style.filter = "invert(50%)";
      ge("logo").style.WebkitFilter = "invert(50%)";
    }
    ge("navbar").style.backgroundColor = "#111111";
    document.body.style.backgroundColor = "#111111";
    document.body.style.color = "#818181";
    ge("openbtn").style.color = "#818181";
    var elements = document.getElementsByClassName("help");
    for (var i = 0; i < elements.length; i++) {
        elements[i].style.backgroundColor= "#3a3939";
        // elements[i].style.borderLeft= borderThick;
    }
    var modal = document.getElementsByClassName("modal-content");
    for (var i = 0; i < modal.length; i++) {
        modal[i].style.backgroundColor= "#111111";
    }
    var info = document.getElementsByClassName("info");
    for (var i = 0; i < info.length; i++) {
        info[i].style.backgroundColor= "#3a3939";
        // info[i].style.borderLeft= borderThick;
    }
    var tab = document.getElementsByClassName("tab");
    for (var i = 0; i < tab.length; i++) {
        tab[i].style.backgroundColor= "#111111";
    }
    ge("tabramp").style.borderLeft = borderThin;
    ge("tabramp").style.borderRight = borderThin;
    var tabspan = document.getElementsByClassName("tabspan");
    for (var i = 0; i < tabspan.length; i++) {
        tabspan[i].style.color= "#818181";
    }
    showTab('programpcr', 'tabpcr');
    var inputs = document.getElementsByTagName('input');
      for(var i = 0; i < inputs.length; i++) {
        if(inputs[i].type.toLowerCase() == 'button') {
        inputs[i].style.border = borderThin;
        }
      }
    regularHeatButton();
    regularRampButton();
    programRegular();

  }

  if (theme === "light"){
    themeColor = "light";
    borderThin = "1px solid black";
    borderThick = "3px solid black";
    alertColor = "#ff9d2e";
    buttonSelected = "#ff9d2e";
    buttonDeselected = "white";
    if (Boolean(firstload)) {
      ge("logo").style.filter = "invert(0%)";
      ge("logo").style.WebkitFilter = "invert(0%)";
    }
    document.body.style.backgroundColor = buttonDeselected;
    ge("navbar").style.backgroundColor = "white";
    document.body.style.color = "black";
    ge("openbtn").style.color = "black";
    var elements = document.getElementsByClassName("help");
    for (var i = 0; i < elements.length; i++) {
        elements[i].style.backgroundColor= "#e4e4e4";
        // elements[i].style.borderLeft= "3px solid #2e90ff";
    }
    var modal = document.getElementsByClassName("modal-content");
    for (var i = 0; i < modal.length; i++) {
        modal[i].style.backgroundColor= "white";
    }
    var info = document.getElementsByClassName("info");
    for (var i = 0; i < info.length; i++) {
        info[i].style.backgroundColor= "#e4e4e4";
        // info[i].style.borderLeft= "3px solid #2e90ff";
    }
    var tab = document.getElementsByClassName("tab");
    for (var i = 0; i < tab.length; i++) {
        tab[i].style.backgroundColor= "white";
    }
    ge("tabramp").style.borderLeft = borderThin;
    ge("tabramp").style.borderRight = borderThin;
    var tabspan = document.getElementsByClassName("tabspan");
    for (var i = 0; i < tabspan.length; i++) {
        tabspan[i].style.color= "black";
    }
    showTab('programpcr', 'tabpcr');
    var inputs = document.getElementsByTagName('input');
      for(var i = 0; i < inputs.length; i++) {
        if(inputs[i].type.toLowerCase() == 'button') {
        inputs[i].style.border = borderThin;
        }
      }
      regularHeatButton();
      regularRampButton();
      programRegular();
  }
  firstload = true;
}

  </SCRIPT>
</head>

<body style="visibility: hidden;">
<script type="text/javascript">
window.onload = (function(){
  onBodyLoad();
});
</script>
<div id="overlay"></div>
  <div id="navbar" class="navbar"><img class="logo" id="logo" onclick="openNav()" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+QAAAC/CAMAAABAIuaKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFAAAA////pdmf3QAAAAJ0Uk5T/wDltzBKAAAKS0lEQVR42uzdAa7kNgwDUPH+ly6KLlDs9nf3Z2JLJMUcYEZW+GInmUkK2Qi3+nJLX7J9lKa0QEB3rGcL8i2+Iz3bAeR1a5uQoGOGuuhy7frjMWrGtXr25pHdyl3dzLh0gbNIv1YuT+eqs6hXe5W7ukFE2sQFj65ynat+4x/tVO7qphGJE5+AfrdUrsbVyP58flbBXd68IX3jUtcYtDpXQ1U926fc1XEQ0jfe47yhTrbG1dz+/P4u5a6ORpCB8dvMW+qka1xN7s/vXjcot8AJ1OvX9MNjEurcNPJijpvgua6+8WvMm6ok7FxNl8V3EUP8VNcAeWkcWGU6R4C8qJELnurKG1dpukrniqCsoo6b4pmuPnKNpot0jgI54aXKO4FTqdip6c2eGDtXFGVRXqvUPs+VRy7RdI3OsSAv5ridCZxQyTZNb+dE2Tka5EWNXPEsVx55CfRcIq5BbnyWK278bdNrL/LirOr/bvF5BE6rZoumzyyMKTtX5MqTt4Giy6DrQwtjys4Vt/JK3gaqNuj6+nUxLfKijpvo4ncj8pz8/lRZkBsF7lTV6k3PFa6fSytuRvrIBcsu8a5XkAf5uklxF/IK8l9qK+49mklloO5S7vpodUFugFx2TlyDvIL8v7UV9x7VRh4o3cVXkAf5XiwrkFeQf1Vcce9RZeSZDrtrryAPcvtZxbTyEjHO2rni3qO6yCvHp+bKMycF+YKVo+8BSuSPfkHugbyCPMh1kBdrGA2m8ipl5YqFc1QW5HuQV0krFyy8gvw3yBHkNrOK8TpEwzhp54p8jwZ5pvI/111Broxccb1epa5crW6eskiRZ73ucnpofU1B5Bl6lJ0Lcp+lo/VUzllskO+cystBuVLVXEWRIs9U7nF66K08yJ2RI8iD/DdVs5VEihxBbnANaOtUTlcRKXLyB7Bk6RjlhKR0Do+cfyuXfehYkDfXnBB8Hzn5A85VjFRF+RLkSp0jfWyr6EsWrJArPKSOtIGsyPPqQ8OzMSflxH8wZe8c6Z9BNJ9vbIc8mXA42QHp3SruxnXu11sfbPGCCOrjI0iR01Qm+W4xqTMWvQfI8z1mXeVVeJ++dPvyMNG0ka4zOkKDsU0WOaY3VuSf1cbdubsAmyYHubzeNw6FjXdg3O1mutDbtwZUCyvP6Yv+8ZGiMOgp74yaRazf1rsS+KHj40bkB8prDtvCM0zT8xanhXGQ01241Ua+VniQ6yLvukgtO5XPLp2CPMhH8rZrKjc8YQnyVcj7bqeYIF9MPMg1kffdTQlyfeOsyM2vro8FTjnoNYgcCPJlyId/l9FZugnyGM8v3rqrG0ycbNZrDvky47X50HOsutHEaab9Za0xzjVg7t1wpLrZxAnG/W2tueT2ZLykD4i/eufofHWziev5dqpMSBkfbxzpK9uIs1ZHf0U9nCIV4AeR7wL+FfIi2ZjDxof8rnLGTGggZ2kc6bsFqdNW7TPpvTjJENczztO5PK01yBWCegr5PuJ57vow8vlMySRVDHlRIo/xj8tjSNyVGsoO+UbjKu9C4y6PInIXaig75CuNi7zV1PRFbeBGzpsJ9om8grxxqlyEHKeLKD/kS43/QF7UjCrIgxxB/g55BfkAco5sCU7k5MgryPWNF+VEfvhYU4bIdxr/gTwT+QRyBHmQB7mGcZ7IHayjgtzH+N/IK8iDPBN5kGe1HuRBHuRbJ3KeN7CfKySrdRvj/yDPaj3Ig9x5ImdEjiDvTJjcah3ExoPcYiIP8iAP8m2rdUPkFeROxgmRI8iD/EImNiPPKfkMiSAP8q7GBXmQS/05JcgNkGv9lTzIgzzIgzzITzc9yB+OuSx3aJAHeZAH+bmgBHlz04P84ZDLcod2Gg/yICePa4wHudqRNciDvNl4kAc5Zed0FPEbD3KNTAQ5raIg3438YCaWIUeQH8wITeQMl08I8gOjLc8d2mjc8PFPQS6PXGqm5Dce5IsvdbK2TmympDce5CqZ2INcbaakN274cgXTTAS522q4zbj4a5IUV0/EyCnjarsabjNu+MJD1+P+DuWKq2GwGydBXlbIJdZOKnGlJz5e473dGuTiJ0gqcRUwDu7qSDJnFQqNwyphXkXXwrNF3i0vyKXXTjJxVTA+VuUEMALjoI9ERfmTwSkQHyqzobog/6wj5MjZ4qogfKTOluLmU8UVivtpcFVOef7A3ba22oL8s2ZEecd1yl7hrZW2ljYdKcGTIwnkVHHVAN5XKgWy6a/nz0RFeccljIH28pY3nDlh5ANRMFFOdbwhb9t4YaPfPhQK9Y6LxZW7TXfbRlIYnXEIRKL2Ke+uA1FOg7yCPMqtkLMqn6uidiIXUQ6KuKohJ2kbTeSufK8/8l3K9ZBH+fWvXYB8lXJB5JTK1e7PyyOPcm/kUX55yboCuejltzXIGZX3l3HvG5cgX6NcEzmh8vY6ajlylA7z4biKIl+v/Oq37UEu+RiJNcj5lHcWcvm7RCJRQsxH4yqL3FR5MXzRLuSCr1ZZg5xOeVMpDV+jEgnGH0wwxlUYua3ylkfyIcibxzBXqjJyNuW3E9c2XJlIVO+mGldp5N7K/62qO69BfmecU4VoIydTXjqbB3KBp9ExxFUceZTfGGmQ3xrrTBnqyLmUB/kO5aUVV3nkUc5xl24Xci3l+siplAd5lPPF1QB5lJ8eo1QkonwFciblQb4FuZByC+RRfnaAWpGI8h3Io/zo8ILcS7kJcgT5WuSCU3mzchfkUT68vEOU08bVBnmUz16owUblInH1QY4gD/Kdyhchj/LJ+6rIVE4bVyfkYEEObeOCyJcr34Q8ys+MSjESgsjb4uqFHEEe5DrIEeSjbYOjchgj3618F/IoPzAkzUgoIu+Jqx1ymkfu6xoXRQ5F5AjywbbBTTnskUMROYJ8rm0wU44FyKGIHEE+1jZ4KccK5FBEfl+5JfIofzcY4UisVb4POc0b6iWNKyOHInIE+VDb4KMci5BDETmCfKZtsFGOVcihiBx8yAF/5dp3b9+NRDwTgsbfF70TOUiQQ864OnIoIr8ZV2PkIEEONePQz4QgcgR5e9vgoRw7kUMQOYK8u21wUN5YLpYqV4hrwRk5OIxD7M8THgd+PeS34mqOHCzIpX5WbRIJOeO34voJcsBeuf7t2+anj2GpcpKSlyMnuuqgc//WJhNyyK/EtT74WPgrX35jxygSYsavxPUD5IC9cvVrvu11YqlyjbhuQM40QpGLQVaZ0DJ+ofn1+EMBe+U5TTQ77mshR5Dfb1sWkH6ZUDJ+PK719DMBd+XKC8iZEn3vsgic1SHIn7ctMwvhUZGy5zJxrYfDB8yV684s3kdFvp7rxLWejR7KG9sAPW7Yel+DHRz3uSLq0dgBc+WikRsszv0q7OCwj1VRD0YO/Y1vhMx5y3XY4WEfqqK+P3DAXblg4tYdFDd0/XRc67sfCZeNcoSSa0b7hR3DuE9UUd/6TFhtpGOkTdrWoz7JsN/XUX/6WFhutJGlvdZlHwnm89WXpdjuMe3UblhQZeuK618CDADMJClhc/PCxAAAAABJRU5ErkJggg=="
      alt="proPCR" width="200" height="38">
    <div id="mySidenav" class="sidenav" onclick="closeNav()">
      <div class="spanbox">
      <span class="closebtn" onclick="closeNav()">&times;</span>
    </div>
      <a onclick="showProgram(); pushProgram();">Program</a>
      <a onclick="showLoad(); pushLoad();">Load</a>
      <a onclick="showView();pushView();">Status</a>
      <a onclick="showSettings();pushSettings();">Settings</a>
    </div>
    <span id="openbtn" class="openbtn" onclick="openNav()"><span class="menubtn">Menu</span>&#9776;</span>
    <div id="connectview">
      <div>
        <span id="connectdot"></span>
        <span id="connectstatus">CONNECTED TO PROPCR&nbsp;</span>
        <span id="machineid"></span>
      </div>
      <div id="connectionalert">
      </div>
      <div id="ipinfo">
        <span>Avaliable on wifi network:&nbsp;</span>
        <span id="ssidname"></span>
        <span>&nbsp;at&nbsp;</span>
        <a href="" id="ipaddress"></a>
        <a id="copyaddress" onclick="copyAddress()">Copy</a>
        <textarea id="ipaddresstext"></textarea>
      </div>
    </div>

  </div>
  <div class="container">

    <!-- <div id="menudiv" style="display:none">
      <input type="button" onclick="showProgram()" value="New Program" />
      <input type="button" onclick="showLoad()" value="Load Program" />
      <input type="button" onclick="showView()" value="PCR Status" />
      <input type="button" onclick="showSettings()" value="Settings" />

    </div> -->
    <div id="loaddiv">

    </div>

    <div id="settingsdiv">

      <div id="helpset" class="setting" onclick="expandShow('helpon','helpicon')"><div id="helpicon" class="settingsicon">+</div><div>&nbsp;Show Information Boxes: <span id="helpstat" class="stat">ON</span></div></div>
      <div id="helpon" style="display:none">
          <div id="helpalert" class="alertmsg"></div>
        <div class="info">This setting turns on and off the information boxes that describe what perameter or setting is.</div>
        <input type="button" id="helpbutton" onclick="helpSend()"value="Turn Info Boxes Off"/>
      </div>

      <div id="autostartset" class="setting" onclick="expandShow('autostart','autostarticon')"><div id="autostarticon" class="settingsicon">+</div><div>&nbsp;Autostart: <span id="autostartstat" class="stat">OFF</span></div></div>
      <div id="autostart" style="display:none">
        
      <div class="info">Autostart will run a selected program automatically when the machine powers on</div>
      <h3 style="text-align:center">Select Program to Autostart:</h3>
      <div id="progselect"></div>
        <div class="autostartprog">
          <h4 style="text-align:center; margin-bottom: 0;">Current Autostart Program:</h4>
          <div id="autostartprog">No Program Selected</div>
        </div>
        
        
        <input type="button" onclick="autostartSend()" id="autostartbutton" class="settingsbutton" value="Turn Autostart On"/>
      </div>

      <div id="connectwifiset" class="setting" onclick="expandShow('connectwifi','connectwifiicon')"><div id="connectwifiicon" class="settingsicon">+</div><div>&nbsp;Connect to Wifi Network: <span id="connectwifistat" class="stat">OFF</span></div></div>
      <div id="connectwifi" style="display:none">
        <div class="info">Connect to an existing wifi network. The machine will be accesible to any device connected to the same network.</div>
        <div id="connectnetworkmsg" class="alertmsg">On startup proPCR will connect to the network:&nbsp;</div>
        <h3 id="connectnetwork"></h3>
        <div class="inputNum"><label class="has-float-label"><input type='text' placeholder='Wifi Network Name' id="wifiname" maxlength="32"/><span>Wifi Network Name</span></label>
          <p id="pprogramName"></p>
          <div class="help">
            This is the name (SSID) of the network you would like the proPCR to join when it restarts next time.
          </div>
        </div>
        <div class="inputNum"><label class="has-float-label"><input type='text' placeholder='Wifi Password' id="wifipass" maxlength="63"/><span>Wifi Password</span></label>
          <p id="pprogramName"></p>
        </div>
        <div id="connectalert">

        </div>
        <input type="button" id="connectwifibutton" class="settingsbutton" onclick="connectWifi()" value="Turn Wifi Connection On"/>

      </div>

      <div id="aponset" class="setting" onclick="expandShow('apon','aponicon')"><div id="aponicon" class="settingsicon">+</div><div>&nbsp;Broadcast proPCR Network: <span id="aponstat" class="stat">ON</span></div></div>
      <div id="apon" style="display:none">
        <div class="info">This setting turns on and off the wifi network that the proPCR broadcasts. If you turn this off and have trouble connecting to another wifi network, you may have to reset the proPCR to connect to it.</div>
        <div id="aponalert">
        </div>
        <input type="button" id="aponbutton" onclick="aponSend()"value="Turn Broadcast On"/>
      </div>

      <div id="userpswset" class="setting" onclick="expandShow('userpsw','userpswicon')"><div id="userpswicon" class="settingsicon">+</div><div>&nbspCustom proPCR password: <span id="userpswstat" class="stat">OFF</span></div></div>
      <div id="userpsw" style="display:none">
        <div class="info">Set a custom password for the proPCR wifi network.</div>
        <div class="inputNum"><label class="has-float-label"><input type='text' placeholder='New Password' id="userpswinput" maxlength="63"/><span>New Password</span></label></div>
          <div id="puserpswinput"></div>
          <input type="button" id="userpswbutton" onclick="userpswSend()" value="Turn Custom Password On"/>
        <div id="userpswalert"></div>
        </div>

        <div id="themeset" class="setting" onclick="expandShow('themeon','themeicon')"><div id="themeicon" class="settingsicon">+</div><div>&nbsp;Theme Color: <span id="themestat" class="stat">LIGHT</span></div></div>
        <div id="themeon" style="display:none">

          <div id="themealert">
          </div>
          <input type="button" id="themebutton" onclick="themeSend()"value="Switch Theme To Dark"/>
        </div>

        <div id="resetset" class="setting" onclick="expandShow('reseton','reseticon')"><div id="reseticon" class="settingsicon">+</div><div>&nbsp;Advanced: </div></div>
        <div id="reseton" style="display:none">

          <div id="resetconfirm">
          </div>
          <div>
            <p id="resetalert" style="text-align:center"></p>
          </div>
          <input type="button" id="resetButton" onclick="resetFiles()" value="Reset"/>
          <input type="button" id="updateFirmware" onclick="updateFirmware()" value="Update Firmware"/>
          <input type="button" id="updateSPIFFS" onclick="updateSPIFFS()" value="Update Interface"/>
          
          

        </div>


        <!-- <div id="quietfanset" class="setting" onclick="quietfanShow()"><div id="quietfanicon" class="settingsicon">+</div><div id="quietfanstat">&nbspCustom proPCR password: OFF</div></div>
        <div id="quietfan" style="display:none">
          <div class="info">Set a custom password for the proPCR wifi network.</div>
          <div class="inputNum"><label class="has-float-label"><input type='text' placeholder='Custom proPCR network password' id="quietfaninput" maxlength="63"/><span>Custom proPCR network password</span></label></div>
            <div id="pquietfaninput"></div>
            <input type="button" id="quietfanbutton" onclick="quietfanSend()" value="Turn Custom Password On"/>
          <div id="quietfanalert"></div> -->

          <div class="setting"></div>
      </div>


    <div id="viewdiv">

      <h1 id="progstate"></h1>


      <div id="displaydiv">

        <h2 id="progname"></h2>
        <h4 id="progtitle"></h4>
        <h3 id='cycleState'></h3>
        <div id="cyclediv">
          <h3>Cycle</h3>&nbsp;
          <h3 id='cycleCount'></h3>&nbsp;
          <h3>of</h3>&nbsp;
          <h3 id='cycleNumber'></h3>
        </div>
        <div id="timerdiv">
          <h3 id='timer'></h3>
          <h3>seconds of</h3>&nbsp;
          <h3 id='cycleTime'></h3>
        </div>
      </div>
      <div id="tempdiv" class="statustemp">
          <h3 class="templabel">Lid Temp =</h3>
          <div class="showtemp">
            <h3 id='templid'></h3>
            <h3>&deg;C</h3>
          </div>
        <div id="singleblocktemp">
          <h3 class="templabel">Block Temp =</h3>
          <div class="showtemp">
            <h3 id='blockTemp1'></h3>
            <h3>&deg;C</h3>
          </div>
        </div>
      </div>
      <div id="gradienttemp" class="statustemp">
        <div>
          <h3>High Temp =</h3>
          <div class="showtemp">
          <h3 id='tempthree'></h3>
          <h3>&deg;C</h3></div></div>
        <div>
          <h3>Mid Temp =</h3>
          <div class="showtemp">
          <h3 id='temptwo'></h3>
          <h3>&deg;C</h3></div></div>
        <div>
          <h3>Low Temp =</h3>
          <div class="showtemp">
          <h3 id='tempone'></h3>
          <h3>&deg;C</h3></div></div>
      </div>
      <div id="displaydiv1">
        <div class="buttondiv">
        <input id='pauseButton' type="button" onclick="pauseButton();" value="Pause">
        <input id='stopButton' type="button" onclick="stopButton();" value="Stop">
        </div>
        <div id="stopModal" class="modal">
          <div class="modal-content">
            <span class="closeModal" onclick="cancelButton()">&times;</span>
            <h3 style="clear:both">Please Confirm Stop</h3>
            <div class="buttondiv">
            <input id='confirmButton' type="button" onclick="confirmButton();" value="Confirm Stop">
            <input id='cancelButton' type="button" onclick="cancelButton();" value="Keep Running">

            </div>
          </div>
        </div>
      </div>
    </div>






    <div id="programdiv">
      <div id="tabs">
        <button class="tab" id="tabpcr" onclick="showTab('programpcr', 'tabpcr')"><span class="tabspan">PCR</span></button>
        <button class="tab" id="tabramp" onclick="showTab('programramp', 'tabramp')"><span class="tabspan">Ramp</span></button>
        <button class="tab" id="tabheat" onclick="showTab('programheat', 'tabheat')"><span class="tabspan">Heat Block</span></button>
      </div>
      <div id="programramp">
        <input type="button" class="button16" id="regularRampButton" onclick="regularRampButton()" value="Regular Ramp" />
        <input type="button" class="button16" id="gradientRampButton" onclick="gradientRampButton()" value="Gradient Ramp" />
        <h2 id="gradrampstat">Gradient Ramp Off</h2>
        <div id="regramp">
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Start Temp &deg;C' id="startRampTemp" name='startRampTemp' maxlength="2" /><span>Start Temp &deg;C</span></label>
            <p id="pstartRampTemp"></p>
          </div>
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='End Temp &deg;C' id="endRampTemp" name='endRampTemp' maxlength="2" /><span>End Temp &deg;C</span></label>
            <p id="pendRampTemp"></p>
          </div>
        </div>
        <div id="gradramp">
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Low Start Temp &deg;C' id="lowstartRampTemp" name='lowstartRampTemp' maxlength="2" /><span>Low Start Temp &deg;C</span></label>
            <p id="plowstartRampTemp"></p>
          </div>
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='High Start Temp &deg;C' id="highstartRampTemp" name='highstartRampTemp' maxlength="2" /><span>High Start Temp &deg;C</span></label>
            <p id="phighstartRampTemp"></p>
          </div>
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Low End Temp &deg;C' id="lowendRampTemp" name='lowendRampTemp' maxlength="2" /><span>Low End Temp &deg;C</span></label>
            <p id="plowendRampTemp"></p>
          </div>
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='High End Temp &deg;C' id="highendRampTemp" name='highendRampTemp' maxlength="2" /><span>High End Temp &deg;C</span></label>
            <p id="phighendRampTemp"></p>
          </div>
        </div>
        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Ramp Time (minutes)' id="rampTime" name='rampTime' maxlength="4"/><span>Ramp Time (minutes)</span></label>
          <p id="prampTime"></p>
        </div>

      </div>


      <div id="programheat">
        <input type="button" class="button16" id="regularHeatButton" onclick="regularHeatButton()" value="Regular Heat" />
        <input type="button" class="button16" id="gradientHeatButton" onclick="gradientHeatButton()" value="Gradient Heat" />
        <h2 id="gradheatstat">Gradient Heat Off</h2>
        <div id="regheat" >
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Heat Block Temp &deg;C' id="heatBlockTemp" name='heatBlockTemp' maxlength="2" /><span>Heat Block Temp &deg;C</span></label>
            <p id="pheatBlockTemp"></p>
          </div>
        </div>
        <div id="gradheat">
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Low Heat Block Temp &deg;C' id="lowheatBlockTemp" name='lowheatBlockTemp' maxlength="2" /><span>Low Heat Block Temp &deg;C</span></label>
            <p id="plowheatBlockTemp"></p>
          </div>
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='High Heat Block Temp &deg;C' id="highheatBlockTemp" name='highheatBlockTemp' maxlength="2" /><span>High Heat Block Temp &deg;C</span></label>
            <p id="phighheatBlockTemp"></p>
          </div>
        </div>
        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Heat Block Time (minutes)' id="heatBlockTime" name='heatBlockTime' maxlength="4"/><span>Heat Block Time (minutes)</span></label>
          <p id="pheatBlockTime"></p>
        </div>
      </div>



    <div id="programpcr">

      <div id="selectprogram">
        <h3 style="margin-top:15px">Please Select PCR Program Type:</h3>
        <input type="button" class="button16" id="regularButton" onclick="programRegular()" value="Regular PCR" />
        <input type="button" class="button16" id="gradientButton" onclick="programGradient()" value="Gradient PCR" />
        <input type="button" class="button16" id="TDButton" onclick="programTD()" value="Touchdown PCR" />
        <input type="button" class="button16" id="TDGButton" onclick="programTDG()" value="Touchdown Gradient" />
      </div>
      <h2 id="progtype"></h2>
      <div id="initialdiv" style="display:none">
      <div id="preheat">
      <div id="preheatLidset" class="setting" onclick="expandShow('preheatliddiv','preheatliddivicon')"><div id="preheatliddivicon" class="settingsicon">+</div><div id="preheatlidstat">&nbspPreheat Lid: OFF</div></div>
      <div id="preheatliddiv" style="display:none;">
        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Preheat Lid Temp &deg;C' id="preheatLidInput" name='preheatLidInput' maxlength="3" /><span>Preheat Lid Temp &deg;C</span></label>
          <p id="preheatLidInput"></p>
        </div>
        <div class="displaytemp">
          <p>Current Lid Temp=
            <A ID='preheatLidTemp'></A>&deg;C</p>
        </div>
        <div class="displaytemp">
          <p>Lid Temp Setpoint =
            <A ID='Setpointlid'></A></p>
        </div>
        <div class="pretext" id="pretextlid">
          <A ID='preheatLidText'>Lid is Off</A>
          <p id="ppreheatLidText"></p>
        </div><input id='preheatLidButton' type="button" onclick="preheatLid()" value="Start">
      </div>

      <!-- <div class="onoffswitch"><input type="checkbox" class="onoffswitch-checkbox" id="preheatlidswitch" onclick="showPreheatLid()"><label class="onoffswitch-label" for="preheatlidswitch"><span id="contentlid" class="onoffswitch-inner"></span><span class="onoffswitch-switch"></span></label></div> -->


        <!-- <div class="onoffswitch"><input type="checkbox" class="onoffswitch-checkbox" id="preheatblockswitch" onclick="showPreheatBlock()"><label class="onoffswitch-label" for="preheatblockswitch"><span id="contentblock" class="onoffswitch-inner"></span><span class="onoffswitch-switch"></span></label></div> -->
      <div id="preheatBlockset" class="setting" onclick="expandShow('preheatblockdiv','preheatblockdivicon')"><div id="preheatblockdivicon" class="settingsicon">+</div><div id="preheatblockstat">&nbspPreheat Block: OFF</div></div>
      <div id="preheatblockdiv" style="display:none;">

        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Preheat Block Temp (&deg;C)' id="preheatBlockInput" name='preheatBlockInput' maxlength="2"/><span>Preheat Block Temp (&deg;C)</span></label>
          <p id="preheatBlockInput"></p>
        </div>
        <div class="displaytemp">
          <p>Block Temp=
            <A id='preheatBlockTemp'></A>&deg;C</p>
        </div>
        <div class="displaytemp">
          <p>Block Temp Setpoint=
            <A ID='Setpointblock'></A></p>
        </div>
        <div class="pretext" id="pretextblock">
          <A ID='preheatBlockText'>Block is off</A>
          <p id="ppreheatBlockText"></p>
        </div><input id='preheatBlockButton' type="button" onclick="preheatBlock()" value="Start">
      </div>

    <div class="setting"></div>
  </div>


      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Initial Denature Temp (&deg;C)' id="initDenatureTemp" name='initDenatureTemp' maxlength="2"/><span>Initial Denature Temp (&deg;C)</span></label>
        <p id="pinitDenatureTemp"></p>
      </div>
      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Initial Denature Time (sec)' id="initDenatureTime" name='initDenatureTime' maxlength="4"/><span>Initial Denature Time (sec)</span></label>
        <p id="pinitDenatureTime"></p>
      </div>


    <div id="TDdiv" style="display:none">
      <h3 style="text-align:center">Touchdown (TD) Phase</h3>
      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='TD Number of Cycles' id="TDCycleNum" name='TDCycleNum' maxlength="2"/><span>TD Number of Cycles</span></label>
        <p id="pTDCycleNum"></p>
      </div>
      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='TD Denature Temp (&deg;C)' id="TDdenatureTemp" name='TDdenatureTemp' maxlength="2"/><span>TD Denature Temp (&deg;C)</span></label>
        <p id="pTDdenatureTemp"></p>
      </div>
      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='TD Denature Time (sec)' id="TDdenatureTime" name='TDdenatureTime' maxlength="4"/><span>TD Denature Time (sec)</span></label>
        <p id="pTDdenatureTime"></p>
      </div>
      <div id="TDregulardiv" style="display:none">
        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='TD Start Anneal Temp (&deg;C)' id="TDStartTemp" name='TDStartTemp' maxlength="2" /><span>TD Start Anneal Temp (&deg;C)</span></label>
          <p id="pTDStartTemp"></p>
        </div>
        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='TD End Anneal Temp (&deg;C)' id="TDEndTemp" name='TDEndTemp' maxlength="2" /><span>TD End Anneal Temp (&deg;C)</span></label>
          <p id="pTDEndTemp"></p>
        </div>
      </div>
      <div id="TDGdiv" style="display:none">
        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Low TD Start Anneal Temp (&deg;C)' id="TDLowStartTemp" name='TDLowStartTemp' maxlength="2" /><span>Low TD Start Anneal Temp (&deg;C)</span></label>
          <p id="pTDLowStartTemp"></p>
        </div>
        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='High TD Start Anneal Temp (&deg;C)' id="TDHighStartTemp" name='TDHighStartTemp' maxlength="2" /><span>High TD Start Anneal Temp (&deg;C)</span></label>
          <p id="pTDHighStartTemp"></p>
        </div>
        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Low TD End Anneal Temp (&deg;C)' id="TDLowEndTemp" name='TDLowEndTemp' maxlength="2" /><span>Low TD End Anneal Temp (&deg;C)</span></label>
          <p id="pTDLowEndTemp"></p>
        </div>
        <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='High TD End Anneal Temp (&deg;C)' id="TDHighEndTemp" name='TDHighEndTemp' maxlength="2" /><span>High TD End Anneal Temp (&deg;C)</span></label>
          <p id="pTDHighEndTemp"></p>
        </div>
      </div>
      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='TD Anneal Time (sec)' id="TDannealTime" name='TDannealTime' maxlength="4"/><span>TD Anneal Time (sec)</span></label>
        <p id="pTDannealTime"></p>
      </div>
      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='TD Extend Temp (&deg;C)' id="TDextendTemp" name='TDextendTemp' maxlength="2"/><span>TD Extend Temp (&deg;C)</span></label>
        <p id="pTDextendTemp"></p>
      </div>
      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='TD Extend Time (sec)' id="TDextendTime" name='TDextendTime' maxlength="4"/><span>TD Extend Time (sec)</span></label>
        <p id="pTDextendTime"></p>
      </div>
      <h3 style="text-align:center">Regular Phase</h3>

    </div>


      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Number of Cycles' id="cycleNum" name='cycleNum' maxlength="3"/><span>Number of Cycles</span></label>
        <p id="pcycleNum"></p>
      </div>

      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Denature Temp (&deg;C)' id="denatureTemp" name='denatureTemp' maxlength="2"/><span>Denature Temp (&deg;C)</span></label>
        <p id="pdenatureTemp"></p>
      </div>
      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Denature Time (sec)' id="denatureTime" name='denatureTime' maxlength="4"/><span>Denature Time (sec)</span></label>
        <p id="pdenatureTime"></p>
      </div>


      <!-- <div class="onoffswitch"><input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="gradientswitch" onclick="gradientCheck()"><label class="onoffswitch-label" for="gradientswitch"><span id="contentgradient" class="onoffswitch-inner"></span><span class="onoffswitch-switch"></span></label></div> -->

          <div id="regularProg" style="display:none">
            <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Anneal Temp (&deg;C)' id="annealTemp" name='annealTemp' maxlength="2"/><span>Anneal Temp (&deg;C)</span></label>
              <p id="pannealTemp"></p>
            </div>
          </div>
          <div id="gradientProg" style="display:none">
          <p id="pgradient" style="display:none;text-align:center">Low and High temperatures can have an 8 degree range</p>
            <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Low Anneal Temp (&deg;C)' id="annealTempLow" name='annealTempLow' maxlength="2"/><span>Low Anneal Temp (&deg;C)</span></label>
              <p id="pannealTempLow"></p>
            </div>
            <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='High Anneal Temp (&deg;C)' id="annealTempHigh" name='annealTempHigh' maxlength="2"/><span>High Anneal Temp (&deg;C)</span></label>
              <p id="pannealTempHigh"></p>
            </div>
          </div>

          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Anneal Time (sec)' id="annealTime" name='annealTime' maxlength="4"/><span>Anneal Time (sec)</span></label>
            <p id="pannealTime"></p>
          </div>
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Extend Temp (&deg;C)' id="extendTemp" name='extendTemp' maxlength="2"/><span>Extend Temp (&deg;C)</span></label>
            <p id="pextendTemp"></p>
          </div>
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Extend Time (sec)' id="extendTime" name='extendTime' maxlength="4"/><span>Extend Time (sec)</span></label>
            <p id="pextendTime"></p>
          </div>
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Final Extend Temp (&deg;C)' id="finalExtendTemp" name='finalExtendTemp' maxlength="2"/><span>Final Extend Temp (&deg;C)</span></label>
            <p id="pfinalExtendTemp"></p>
          </div>
          <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Final Extend Time (sec)' id="finalExtendTime" name='finalExtendTime' maxlength="4"/><span>Final Extend Time (sec)</span></label>
            <p id="pfinalExtendTime"></p>
          </div>


    </div>
  </div>
    <div id="saverundiv" style="display:none">
      <div class="inputNum"><label class="has-float-label"><input type='tel' placeholder='Lid Temp &deg;C (Optional)' id="setLidTemp" name='setLidTemp' maxlength="3" /><span>Lid Temp &deg;C (Optional)</span></label>
        <p id="psetLidTemp"></p>
      </div>
      <div class="inputNum"><label class="has-float-label"><input type='text' placeholder='Program Name (Optional)' id="programName" name='programName' maxlength="20"/><span>Program Name (Optional)</span></label>
        <p id="pprogramName"></p>
      </div>


      <p id="savealert"></p>
      </div>
      <div class="buttondiv">
      <input type='button' onclick="saveProgram()" id="savebutton" value="Save" />
      <input type='button' onclick="sendProgram()" id="runbutton" value="Run" />
    </div>
  </div>
  </div>
</body>

</html>